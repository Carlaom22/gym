<!DOCTYPE html>
<html lang="pt" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
  <meta name="theme-color" content="#2563eb" />
  <title>Serviços | VilaPlus</title>

  <!-- Favicon -->
  <link rel="icon" href="../assets/logoazulcinza.png" type="image/png" />
  <link rel="apple-touch-icon" href="../assets/logoazulcinza.png" />

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    /* ==== CSS Reset Melhorado ==== */
    *, *::before, *::after {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
      -webkit-text-size-adjust: 100%;
    }
    
    body {
      font-family: 'Lato', sans-serif;
      color: var(--preto);
      background: var(--branco);
      line-height: 1.5;
      overflow-x: hidden;
      text-rendering: optimizeSpeed;
      padding-top: var(--header-h);
    }
    
    /* Remover decoração padrão de listas */
    ul, ol {
      list-style: none;
    }
    
    /* Elementos de mídia responsivos */
    img, picture, video, canvas, svg {
      display: block;
      max-width: 100%;
      height: auto;
    }
    
    /* Melhorar legibilidade de texto */
    p, h1, h2, h3, h4, h5, h6 {
      overflow-wrap: break-word;
    }
    
    /* ==== Design System ==== */
    :root {
      --azul: #2563eb;
      --azul-escuro: #1f5073;
      --cinza-fundo: #f8f9fb;
      --cinza-card: #f1f3f7;
      --cinza-medio: #6b7280;
      --dourado: #d4af37;
      --dourado-claro: #e6c965;
      --branco: #fff;
      --preto: #111827;
      --transition: .3s ease;
      --transition-slow: .6s ease;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.1), 0 1px 3px rgba(0,0,0,0.08);
      --shadow-lg: 0 10px 25px rgba(0,0,0,0.1), 0 5px 10px rgba(0,0,0,0.05);
      --header-h: 60px;
      --container-padding: 1rem;
      --section-padding: 2rem 0;
    }
    
    /* Melhorar foco visual para navegação por teclado */
    *:focus-visible {
      outline: 2px solid var(--dourado);
      outline-offset: 2px;
    }
    
    /* Melhorar contraste para links */
    a {
      color: var(--azul);
      text-decoration: none;
      transition: var(--transition);
    }
    
    a:hover, a:focus {
      color: var(--azul-escuro);
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 1rem;
      color: var(--azul-escuro);
    }
    
    .container {
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 var(--container-padding);
    }
    
    /* Botões com área de toque aumentada */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.75rem 1.25rem;
      min-height: 44px;
      border: 1px solid var(--dourado);
      color: var(--dourado);
      font-weight: 700;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      font-size: 0.875rem;
      transition: var(--transition);
      cursor: pointer;
      text-align: center;
      position: relative;
      overflow: hidden;
      z-index: 1;
      border-radius: 8px;
      background: transparent;
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--dourado);
      transition: var(--transition);
      z-index: -1;
    }
    
    .btn:hover, .btn:focus {
      color: var(--branco);
    }
    
    .btn:hover::before, .btn:focus::before {
      left: 0;
    }
    
    .btn-filled {
      background: var(--dourado);
      color: var(--branco);
    }
    
    .btn-filled::before {
      background: var(--branco);
    }
    
    .btn-filled:hover, .btn-filled:focus {
      color: var(--dourado);
    }
    
    section {
      padding: var(--section-padding);
    }
    
    .section-title {
      text-align: center;
      margin-bottom: 1.5rem;
      position: relative;
    }
    
    .section-title h2 {
      font-size: clamp(1.5rem, 5vw, 2.2rem);
      margin-bottom: 0.75rem;
      display: inline-block;
    }
    
    .section-title h2::after {
      content: '';
      display: block;
      width: 4rem;
      height: 3px;
      background: var(--dourado);
      margin: 0.75rem auto 0;
      transition: var(--transition-slow);
    }
    
    .section-title:hover h2::after {
      width: 6rem;
    }
    
    .section-title p {
      font-size: clamp(0.9rem, 2.5vw, 1rem);
      color: var(--cinza-medio);
      max-width: 700px;
      margin: 0 auto;
    }
    
    /* ===== HEADER (igual ao das Notícias) ===== */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      padding: .75rem 0;
      background: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,.05);
      transition: var(--transition);
      height: var(--header-h);
    }
    
    header.scrolled {
      box-shadow: 0 4px 15px rgba(0,0,0,.08);
      padding: .5rem 0;
    }
    
    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 100%;
    }
    
    .logo-img {
      height: 40px;
      width: auto;
      transition: var(--transition);
    }
    
    .logo-img:hover {
      opacity: .9;
      transform: scale(1.03);
    }
    
    nav ul {
      display: flex;
      list-style: none;
      margin: 0;
      padding: 0;
      gap: 1.5rem;
    }
    
    nav ul li a {
      font-weight: 700;
      font-size: .85rem;
      letter-spacing: .5px;
      text-transform: uppercase;
      color: var(--azul-escuro);
      padding: .5rem 0;
      position: relative;
      display: block;
    }
    
    nav ul li a::after {
      content: '';
      position: absolute;
      bottom: -6px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--dourado);
      transition: var(--transition);
    }
    
    nav ul li a:hover::after,
    nav ul li a[aria-current="page"]::after {
      width: 100%;
    }
    
    .mobile-menu-btn {
      display: none;
      font-size: 1.5rem;
      color: var(--azul-escuro);
      background: none;
      border: none;
      padding: .5rem;
      min-height: 44px;
      min-width: 44px;
      justify-content: center;
      align-items: center;
    }

    /* ===== [MENU MOBILE — NOTÍCIAS] ===== */
    @media (max-width: 767px) {
      nav ul {
        display: none;
        position: fixed;
        top: var(--header-h);
        left: 0;
        width: 100%;
        background: #fff;
        flex-direction: column;
        padding: 1rem;
        box-shadow: 0 10px 15px rgba(0,0,0,.1);
        max-height: calc(100vh - var(--header-h));
        overflow-y: auto;
      }
      
      nav ul.show {
        display: flex;
      }
      
      nav ul li {
        margin: .75rem 0;
      }
      
      .mobile-menu-btn {
        display: flex;
      }
    }
    
    /* ==== HERO (Serviços) — Melhorado para mobile first ==== */
    .hero-servicos {
      min-height: clamp(300px, 60vh, 500px);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: var(--branco);
      background:
        linear-gradient(135deg, rgba(31,80,115,.85) 0%, rgba(31,80,115,.7) 100%),
        url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?auto=format&fit=crop&w=1920&q=80')
        center/cover no-repeat;
      position: relative;
      overflow: hidden;
      padding: clamp(1rem, 4vw, 2rem) 1.25rem;
    }
    
    .hero-servicos::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--azul-escuro) 0%, rgba(31,80,115,.8) 100%);
      z-index: 0;
      pointer-events: none;
    }
    
    .hero-content {
      position: relative;
      z-index: 1;
      width: min(900px, 92vw);
      margin: 0 auto;
    }
    
    .hero-servicos h1 {
      font-size: clamp(1.75rem, 5vw, 2.8rem);
      margin-bottom: clamp(0.5rem, 2vw, 1rem);
      color: #fff;
      line-height: 1.15;
      text-shadow: 0 2px 10px rgba(0,0,0,.2);
    }
    
    .hero-servicos p {
      font-size: clamp(0.9rem, 2.2vw, 1.1rem);
      max-width: 700px;
      margin: 0 auto clamp(0.75rem, 3vw, 1.25rem);
      opacity: 0.95;
      line-height: 1.5;
    }
    
    .hero-buttons {
      display: flex;
      justify-content: center;
      gap: clamp(0.5rem, 3vw, 1rem);
      flex-wrap: wrap;
      margin-top: clamp(0.75rem, 3vw, 1.5rem);
    }
    
    .hero-stats {
      display: flex;
      justify-content: center;
      gap: clamp(0.75rem, 4vw, 2rem);
      margin-top: clamp(1rem, 5vw, 2.5rem);
      flex-wrap: wrap;
    }
    
    .stat-item {
      text-align: center;
    }
    
    .stat-number {
      font-size: clamp(1.4rem, 4vw, 2rem);
      font-weight: 700;
      display: block;
    }
    
    .stat-label {
      font-size: clamp(0.8rem, 2vw, 0.9rem);
      display: block;
      margin-top: 0.25rem;
    }
    
    @media (max-width: 480px) {
      .hero-servicos {
        min-height: clamp(280px, 55vh, 400px);
      }
      
      .hero-buttons .btn {
        width: 100%;
        justify-content: center;
      }
    }
    
    /* ==== Categorias & Cards ==== */
    .categorias-servicos {
      background: var(--cinza-fundo);
      padding: 2.5rem 0;
    }
    
    .categorias-container {
      display: flex;
      justify-content: flex-start;
      flex-wrap: nowrap;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      overflow-x: auto;
      padding-bottom: 0.5rem;
      scrollbar-width: thin;
      -ms-overflow-style: none;
      scrollbar-color: var(--dourado) transparent;
    }
    
    .categorias-container::-webkit-scrollbar {
      height: 6px;
    }
    
    .categorias-container::-webkit-scrollbar-thumb {
      background: var(--dourado);
      border-radius: 3px;
    }
    
    .categoria-btn {
      padding: 0.6rem 1.25rem;
      background: var(--branco);
      border: 2px solid var(--azul);
      color: var(--azul);
      border-radius: 50px;
      font-weight: 700;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      z-index: 1;
      white-space: nowrap;
      flex-shrink: 0;
      min-height: 40px;
      display: inline-flex;
      align-items: center;
      font-size: 0.85rem;
    }
    
    .categoria-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 0;
      height: 100%;
      background: var(--azul);
      transition: var(--transition);
      z-index: -1;
      border-radius: 50px;
    }
    
    .categoria-btn:hover::before,
    .categoria-btn:focus::before,
    .categoria-btn.active::before {
      width: 100%;
    }
    
    .categoria-btn:hover,
    .categoria-btn:focus,
    .categoria-btn.active {
      color: var(--branco);
    }
    
    .servicos-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.25rem;
      margin-top: 1.5rem;
    }
    
    .servico-card {
      background: var(--branco);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
      border-bottom: 3px solid transparent;
      display: flex;
      flex-direction: column;
      position: relative;
    }
    
    .servico-card.visible {
      transform: translateY(0);
      opacity: 1;
    }
    
    .servico-card:hover,
    .servico-card:focus-within {
      transform: translateY(-0.5rem);
      border-bottom-color: var(--dourado);
      box-shadow: var(--shadow-lg);
    }
    
    .servico-imagem {
      height: 180px;
      overflow: hidden;
      position: relative;
    }
    
    .servico-imagem::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40%;
      background: linear-gradient(to top, rgba(0,0,0,.7) 0%, transparent 100%);
      opacity: 0;
      transition: var(--transition);
    }
    
    .servico-card:hover .servico-imagem::after {
      opacity: 1;
    }
    
    .servico-imagem img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: var(--transition-slow);
    }
    
    .servico-card:hover .servico-imagem img {
      transform: scale(1.1);
    }
    
    .servico-info {
      padding: 1.25rem;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    
    .servico-info h3 {
      font-size: 1.2rem;
      margin-bottom: 0.75rem;
      color: var(--azul-escuro);
    }
    
    .servico-info p {
      margin-bottom: 1rem;
      color: var(--cinza-medio);
      flex-grow: 1;
      font-size: 0.9rem;
    }
    
    .servico-beneficios {
      margin-bottom: 1.25rem;
    }
    
    .servico-beneficios h4 {
      font-size: 0.95rem;
      margin-bottom: 0.5rem;
      color: var(--azul-escuro);
    }
    
    .beneficios-list {
      list-style: none;
    }
    
    .beneficios-list li {
      margin-bottom: 0.4rem;
      position: relative;
      padding-left: 1.25rem;
      font-size: 0.85rem;
      transition: var(--transition);
    }
    
    .beneficios-list li:hover {
      transform: translateX(5px);
    }
    
    .beneficios-list li::before {
      content: '\f00c';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      left: 0;
      top: 0.125rem;
      color: var(--dourado);
      transition: var(--transition);
    }
    
    .beneficios-list li:hover::before {
      color: var(--azul);
    }
    
    .servico-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    
    .servico-categoria {
      font-size: 0.75rem;
      padding: 0.2rem 0.6rem;
      background: var(--cinza-fundo);
      border-radius: 20px;
      color: var(--cinza-medio);
      transition: var(--transition);
    }
    
    .servico-card:hover .servico-categoria {
      background: var(--azul);
      color: var(--branco);
    }
    
    /* ==== Destaques ==== */
    .servicos-destaque {
      background: var(--branco);
      position: relative;
      overflow: hidden;
    }
    
    .servicos-destaque::before {
      content: '';
      position: absolute;
      top: -5rem;
      right: -5rem;
      width: 15rem;
      height: 15rem;
      background: var(--dourado);
      opacity: .05;
      border-radius: 50%;
      z-index: 0;
    }
    
    .servicos-destaque::after {
      content: '';
      position: absolute;
      bottom: -5rem;
      left: -5rem;
      width: 20rem;
      height: 20rem;
      background: var(--azul);
      opacity: .05;
      border-radius: 50%;
      z-index: 0;
    }
    
    .destaque-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.25rem;
      position: relative;
      z-index: 1;
    }
    
    .destaque-card {
      background: var(--cinza-fundo);
      padding: 1.5rem;
      border-radius: 10px;
      text-align: center;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .destaque-card.visible {
      transform: translateY(0);
      opacity: 1;
    }
    
    .destaque-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 0;
      background: var(--dourado);
      transition: var(--transition-slow);
    }
    
    .destaque-card:hover::before,
    .destaque-card:focus-within::before {
      height: 100%;
    }
    
    .destaque-card:hover,
    .destaque-card:focus-within {
      transform: translateY(-0.5rem);
      box-shadow: var(--shadow-lg);
    }
    
    .destaque-icon {
      width: 4rem;
      height: 4rem;
      margin: 0 auto 1rem;
      background: var(--dourado);
      color: var(--branco);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      transition: var(--transition);
      position: relative;
      z-index: 1;
    }
    
    .destaque-card:hover .destaque-icon,
    .destaque-card:focus-within .destaque-icon {
      background: var(--branco);
      color: var(--dourado);
      box-shadow: 0 0 0 8px rgba(212,175,55,.2);
    }
    
    /* ==== QUIZ ==== */
    .quiz {
      background: var(--branco);
    }
    
    .quiz-wrap {
      max-width: 950px;
      margin: 0 auto;
    }
    
    .quiz-steps {
      display: flex;
      justify-content: center;
      gap: 0.4rem;
      margin-bottom: 1rem;
    }
    
    .quiz-step-dot {
      width: 0.5rem;
      height: 0.5rem;
      border-radius: 999px;
      background: #ddd;
      transition: var(--transition);
    }
    
    .quiz-step-dot.active {
      background: var(--dourado);
    }
    
    .quiz-card {
      background: var(--cinza-fundo);
      border: 1px solid var(--cinza-card);
      border-radius: 12px;
      padding: 1.25rem;
      box-shadow: var(--shadow-sm);
    }
    
    .quiz-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.75rem;
      margin-top: 0.75rem;
    }
    
    .quiz-option {
      border: 2px solid transparent;
      background: var(--branco);
      border-radius: 10px;
      padding: 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
      transition: var(--transition);
      text-align: left;
      min-height: 60px;
    }
    
    .quiz-option i {
      font-size: 1.2rem;
      color: var(--azul);
    }
    
    .quiz-option:hover,
    .quiz-option:focus {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .quiz-option.selected {
      border-color: var(--dourado);
      background: linear-gradient(0deg, rgba(212,175,55,.08), rgba(212,175,55,.08)), #fff;
    }
    
    .quiz-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
      gap: 0.5rem;
    }
    
    .quiz-result {
      margin-top: 1rem;
      padding: 1rem;
      border-left: 4px solid var(--dourado);
      background: #fff;
      border-radius: 8px;
    }
    
    .quiz-result h4 {
      margin-bottom: 0.5rem;
    }
    
    .badge {
      display: inline-block;
      font-size: 0.7rem;
      padding: 0.2rem 0.5rem;
      border-radius: 999px;
      background: var(--cinza-fundo);
      color: var(--azul-escuro);
      margin: 0.2rem 0.3rem 0 0;
    }
    
    .quiz-ctas {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-top: 0.75rem;
    }
    
    /* ==== Planos ==== */
    .planos {
      background: var(--cinza-fundo);
    }
    
    .pricing {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.25rem;
    }
    
    .price-card {
      background: #fff;
      border: 1px solid var(--cinza-card);
      border-radius: 12px;
      padding: 1.25rem;
      box-shadow: var(--shadow-sm);
      position: relative;
      overflow: hidden;
    }
    
    .price-card.popular {
      border-color: var(--dourado);
    }
    
    .price-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }
    
    .price-title {
      font-size: 1.1rem;
      color: var(--azul-escuro);
    }
    
    .price-tag {
      font-size: 1.6rem;
      font-weight: 800;
      color: var(--azul);
    }
    
    .price-desc {
      color: var(--cinza-medio);
      margin-bottom: 0.75rem;
      font-size: 0.9rem;
    }
    
    .price-list {
      list-style: none;
      margin: 0 0 0.75rem 0;
    }
    
    .price-list li {
      display: flex;
      gap: 0.4rem;
      align-items: flex-start;
      margin: 0.4rem 0;
      font-size: 0.9rem;
    }
    
    .price-list li i {
      color: var(--dourado);
      margin-top: 0.15rem;
    }
    
    .ribbon {
      position: absolute;
      top: 0.6rem;
      right: -2rem;
      background: var(--dourado);
      color: #fff;
      padding: 0.3rem 2.5rem;
      transform: rotate(35deg);
      font-size: 0.7rem;
      font-weight: 800;
      letter-spacing: 0.3px;
    }
    
    /* ==== Footer ==== */
    footer {
      background: var(--azul-escuro);
      color: #fff;
      padding: 2.5rem 0 1.25rem;
    }
    
    .footer-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
      margin-bottom: 2.5rem;
      align-items: start;
    }
    
    .footer-col {
      text-align: left;
    }
    
    .footer-col h3 {
      font-size: 1.2rem;
      margin: 0 0 1rem;
      color: #fff;
      font-weight: 700;
      line-height: 1.2;
    }
    
    .footer-col p {
      margin: 0 0 1rem;
      color: var(--cinza-card);
      font-size: 0.9rem;
    }
    
    .footer-links ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    
    .footer-links li {
      margin: 0 0 .4rem;
    }
    
    .footer-links a {
      color: #dfe6ff;
      font-size: .9rem;
      display: block;
      padding: .2rem 0;
    }
    
    .footer-links a:hover {
      color: var(--dourado);
      padding-left: .2rem;
    }
    
    .social-links {
      display: flex;
      gap: .6rem;
      justify-content: flex-start;
    }
    
    .social-links a {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255,255,255,.12);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      transition: var(--transition);
    }
    
    .social-links a:hover {
      background: var(--dourado);
      transform: translateY(-3px);
    }
    
    .footer-bottom {
      text-align: center;
      border-top: 1px solid rgba(255,255,255,.12);
      padding-top: 1.25rem;
      color: #dfe6ff;
      font-size: .85rem;
    }
    
    .floating-cta {
      position: fixed;
      right: 1rem;
      bottom: 1rem;
      z-index: 9999;
    }
    
    .fab-contact {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--dourado);
      color: #fff;
      border: 0;
      border-radius: 999px;
      padding: 0.6rem 0.8rem;
      font-weight: 800;
      letter-spacing: 0.3px;
      text-transform: uppercase;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      transition: transform .2s ease, box-shadow .2s ease, opacity .2s ease;
      min-height: 44px;
      font-size: 0.85rem;
    }
    
    .fab-contact:hover,
    .fab-contact:focus {
      transform: translateY(-3px);
      box-shadow: 0 12px 28px rgba(0,0,0,.3);
    }
    
    .fab-contact.pulse {
      animation: fabPulse 2s infinite;
    }
    
    @keyframes fabPulse {
      0% { box-shadow: 0 0 0 0 rgba(212,175,55,.55); }
      70% { box-shadow: 0 0 0 16px rgba(212,175,55,0); }
      100% { box-shadow: 0 0 0 0 rgba(212,175,55,0); }
    }
    
    .fab-contact i {
      font-size: 1rem;
    }
    
    /* ==== Animações ==== */
    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }
    
    .animate {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity .6s ease-out, transform .6s ease-out;
    }
    
    .animate.show {
      opacity: 1;
      transform: translateY(0);
    }
    
    .delay-1 {
      transition-delay: .15s;
    }
    
    .delay-2 {
      transition-delay: .3s;
    }
    
    .delay-3 {
      transition-delay: .45s;
    }
    
    /* ==== Esconder os blocos de detalhes inline (serão fonte de dados) ==== */
    .servico-detalhes {
      display: none !important;
    }
    
    /* ==== MODAL de Serviço (com vídeo) ==== */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(17,24,39,.55);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      backdrop-filter: saturate(120%) blur(2px);
      padding: 1rem;
    }
    
    .modal-overlay.aberto {
      display: flex;
      animation: fadeIn .15s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .modal {
      width: min(1000px, 100%);
      background: #fff;
      border-radius: 16px;
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      max-height: 86vh;
      display: flex;
      flex-direction: column;
    }
    
    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--cinza-card);
    }
    
    .modal-title {
      font-size: 1.1rem;
      color: var(--azul-escuro);
    }
    
    .modal-close {
      border: 0;
      background: transparent;
      font-size: 1.25rem;
      cursor: pointer;
      color: var(--cinza-medio);
      min-width: 44px;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .modal-body {
      padding: 1rem;
      overflow: auto;
    }
    
    .modal-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    .modal-media {
      position: relative;
    }
    
    .modal-mainimg, .modal-mainvideo {
      width: 100%;
      aspect-ratio: 16/9;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: var(--shadow-md);
    }
    
    .modal-mainvideo {
      background: #000;
    }
    
    .modal-thumbs {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.5rem;
      flex-wrap: wrap;
    }
    
    .modal-thumb {
      position: relative;
      width: 100px;
      height: 60px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
      opacity: .85;
      border: 2px solid transparent;
    }
    
    .modal-thumb.ativa {
      opacity: 1;
      border-color: var(--dourado);
    }
    
    .modal-thumb.video::after {
      content: '\f04b';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      color: #fff;
      position: absolute;
      inset: auto;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,.35);
      width: 30px;
      height: 30px;
      display: grid;
      place-items: center;
      border-radius: 50%;
    }
    
    .modal-info p {
      color: var(--cinza-medio);
      font-size: 0.9rem;
    }
    
    .modal-meta {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.5rem;
      margin: 0.6rem 0 0.8rem;
    }
    
    .meta-card {
      background: var(--cinza-fundo);
      border: 1px solid var(--cinza-card);
      border-radius: 10px;
      padding: 0.6rem;
    }
    
    .modal-actions {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-top: 0.3rem;
    }
    
    /* ==== Media Queries para Layout Responsivo ==== */
    @media (min-width: 480px) {
      :root {
        --container-padding: 1.5rem;
      }
      
      .quiz-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (min-width: 640px) {
      .servicos-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .destaque-container {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .footer-container {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .modal-meta {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (min-width: 768px) {
      :root {
        --container-padding: 2rem;
        --section-padding: 3rem 0;
      }
      
      .modal-grid {
        grid-template-columns: 1.2fr .8fr;
      }
      
      .pricing {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (min-width: 900px) {
      .quiz-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }
    
    @media (min-width: 1024px) {
      .servicos-grid {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .destaque-container {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .footer-container {
        grid-template-columns: repeat(4, 1fr);
      }
      
      .pricing {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    @media (min-width: 1200px) {
      :root {
        --container-padding: 2.5rem;
      }
    }
    
    /* Redução de movimento para quem prefere */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
      
      .animate {
        transition: none;
        opacity: 1;
        transform: none;
      }
    }
    
    /* Melhorias de impressão */
    @media print {
      * {
        background: transparent !important;
        color: black !important;
        box-shadow: none !important;
        text-shadow: none !important;
      }
      
      header, .floating-cta, .mobile-menu-btn {
        display: none !important;
      }
      
      .hero-servicos {
        background: none !important;
        color: black !important;
        min-height: auto;
        margin-top: 0;
      }
      
      .hero-servicos::before {
        display: none;
      }
      
      .btn {
        border: 1px solid black;
        color: black;
      }
      
      a[href]::after {
        content: " (" attr(href) ")";
      }
      
      .servico-card {
        break-inside: avoid;
      }
    }
    
    /* ==== CAROUSEL (mobile-first) ==== */
    .carousel {
      position: relative;
    }
    
    .carousel-track {
      display: flex;
      gap: 1rem;
      overflow-x: auto;
      padding: .25rem;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }
    
    .carousel-track::-webkit-scrollbar {
      height: 8px;
    }
    
    .carousel-track::-webkit-scrollbar-thumb {
      background: var(--cinza-card);
      border-radius: 4px;
    }
    
    .slide {
      flex: 0 0 calc(100vw - 2rem);
      max-width: calc(100vw - 2rem);
      scroll-snap-align: start;
      background: #fff;
      border-radius: 14px;
      box-shadow: var(--shadow-sm);
      border-bottom: 3px solid transparent;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    
    .slide:focus-within, .slide:hover {
      border-bottom-color: var(--dourado);
      box-shadow: var(--shadow-lg);
    }
    
    .slide-media {
      height: 48vw;
      max-height: 300px;
      position: relative;
      overflow: hidden;
    }
    
    .slide-media img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform .6s ease;
    }
    
    .slide:hover .slide-media img {
      transform: scale(1.05);
    }
    
    .slide-body {
      padding: 1rem;
      display: flex;
      flex-direction: column;
      gap: .75rem;
    }
    
    .slide h3 {
      font-size: 1.25rem;
      margin: 0;
      color: var(--azul-escuro);
    }
    
    .muted {
      color: var(--cinza-medio);
    }
    
    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .pill {
      font-size: .75rem;
      background: var(--cinza-fundo);
      color: var(--azul-escuro);
      border-radius: 999px;
      padding: .25rem .6rem;
      display: inline-block;
    }
    
    /* barra de ações STICKY para os botões ficarem sempre visíveis */
    .actions-bar {
      position: sticky;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(180deg, rgba(255,255,255,.7), #fff 35%);
      backdrop-filter: saturate(120%) blur(2px);
      padding: .75rem 1rem;
      display: flex;
      gap: .5rem;
      justify-content: space-between;
      align-items: center;
    }
    
    .actions-bar .btn {
      flex: 1;
    }
    
    /* Controlo & Dots */
    .carousel-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: .75rem;
      margin-top: .75rem;
    }
    
    .slider-btn {
      background: var(--azul);
      color: #fff;
      border: 0;
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 999px;
      display: grid;
      place-items: center;
      cursor: pointer;
      transition: .2s ease;
      min-width: 44px;
      min-height: 44px;
    }
    
    .slider-btn[disabled] {
      opacity: .5;
      cursor: not-allowed;
    }
    
    .slider-btn:hover {
      background: #1e4fcc;
    }
    
    .slider-dots {
      display: flex;
      gap: .4rem;
    }
    
    .slider-dot {
      width: .55rem;
      height: .55rem;
      border-radius: 50%;
      background: var(--cinza-card);
      border: 0;
    }
    
    .slider-dot[aria-current="true"] {
      background: var(--dourado);
    }
    
    /* Mostrar slider no mobile e grid no desktop */
    @media (min-width: 1024px) {
      #servicos-carousel {
        display: none;
      }
      
      #servicos-grid {
        display: grid;
      }
    }
    
    /* === Visibilidade slider vs grid === */
    /* Mobile-first: mostra o slider, esconde o grid */
    #servicos-carousel {
      display: block !important;
    }
    
    #servicos-grid {
      display: none !important;
    }
    
    /* Desktop (>=1024px): esconde o slider, mostra o grid */
    @media (min-width: 1024px) {
      #servicos-carousel {
        display: none !important;
      }
      
      #servicos-grid {
        display: grid !important;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
      }
    }
    
    /* Scroll hint */
    .scroll-hint {
      position: fixed;
      bottom: 1.5rem;
      left: 1.5rem;
      z-index: 9999;
      color: var(--dourado);
      font-size: 1.8rem;
      animation: bounce 1.5s infinite;
      opacity: 0.8;
      cursor: default;
      pointer-events: none;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(8px); }
    }
    
    .scroll-hint.hide {
      display: none;
    }
    
    .galeria-servico {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1rem;
    }
    
    .galeria-servico video {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 12px;
    }
    
    .modal-conteudo {
      overflow: auto;
      max-height: 90vh;
    }
    
    @media (max-width: 768px) {
      .btn-hide-text-mobile {
        font-size: 0;
      }
      
      .btn-hide-text-mobile i {
        font-size: 1.2rem;
        margin: 0;
      }
      
      .fab-contact span {
        display: none;
      }
    }
    
    /* compensa o header fixo ao navegar por âncoras */
    #servicos-lista,
    #servicos-grid,
    #horarios-aulas {
      scroll-margin-top: calc(var(--header-h, 60px) + 8px);
    }
    
    /* ==== Estilos Mobile First para Planos ==== */
    
    /* Base mobile */
    .intro-planos {
      text-align: center;
      padding: 0 1rem;
      margin: 0 auto 1.5rem;
      color: var(--cinza-medio);
      line-height: 1.6;
    }
    
    .intro-planos p {
      margin-bottom: 1rem;
      font-size: 0.95rem;
    }
    
    .pricing.compacto {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
      padding: 0 0.5rem;
    }
    
    .pricing.compacto .price-card {
      background: var(--branco);
      border: 1px solid var(--cinza-card);
      border-radius: 10px;
      padding: 1rem;
      text-align: center;
      box-shadow: var(--shadow-sm);
    }
    
    .abordagem-compacta {
      background: var(--branco);
      border-radius: 12px;
      padding: 1.25rem;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--cinza-card);
      margin: 1rem 0.5rem 0;
    }
    
    .compacta-grid {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    
    .compacta-texto h3 {
      color: var(--azul-escuro);
      margin-bottom: 0.75rem;
      font-size: 1.3rem;
      text-align: center;
    }
    
    .compacta-texto > p {
      color: var(--cinza-medio);
      margin-bottom: 1rem;
      line-height: 1.5;
      font-size: 0.95rem;
    }
    
    .opcoes-lista {
      margin: 1rem 0;
    }
    
    .opcao-linha {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
      padding: 0.75rem;
      border-radius: 8px;
      background: var(--cinza-fundo);
    }
    
    .opcao-linha i {
      color: var(--dourado);
      font-size: 1.1rem;
    }
    
    .opcao-linha span {
      color: var(--cinza-medio);
      font-size: 0.9rem;
      line-height: 1.4;
    }
    
    .chamada-acao-completa {
      background: var(--cinza-fundo);
      padding: 1rem;
      border-radius: 10px;
      margin: 1rem 0;
      border-left: 3px solid var(--dourado);
    }
    
    .chamada-acao-completa p {
      margin-bottom: 0.75rem;
      line-height: 1.4;
      font-size: 0.9rem;
    }
    
    .destaque-final {
      font-style: italic;
      color: var(--azul-escuro) !important;
      background: rgba(212, 175, 55, 0.1);
      padding: 0.75rem;
      border-radius: 6px;
      margin-top: 0.75rem !important;
      font-size: 0.9rem;
    }
    
    .botoes-compactos {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 1rem;
    }
    
    .botoes-compactos .btn {
      width: 100%;
      padding: 0.875rem 1rem;
      font-size: 0.9rem;
      justify-content: center;
    }
    
    /* Destaque lateral - mobile em baixo */
    .compacta-destaque {
      order: -1;
    }
    
    .destaque-box {
      background: linear-gradient(135deg, var(--azul) 0%, var(--azul-escuro) 100%);
      color: var(--branco);
      padding: 1.25rem;
      border-radius: 10px;
      text-align: center;
      box-shadow: var(--shadow-md);
    }
    
    .destaque-box i {
      font-size: 1.75rem;
      margin-bottom: 0.5rem;
      display: block;
    }
    
    .destaque-box h4 {
      color: var(--branco);
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }
    
    .destaque-box p {
      color: rgba(255,255,255,0.9);
      margin: 0;
      font-size: 0.85rem;
    }
    
    /* === MEDIA QUERIES - Desktop (mobile first) === */
    
    /* Tablet */
    @media (min-width: 768px) {
      .intro-planos {
        max-width: 700px;
        margin-bottom: 2rem;
      }
      
      .intro-planos p {
        font-size: 1rem;
      }
      
      .pricing.compacto {
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
        margin-bottom: 2rem;
        padding: 0;
      }
      
      .pricing.compacto .price-card {
        padding: 1.25rem;
      }
      
      .abordagem-compacta {
        padding: 2rem;
        margin: 1rem 0 0;
        border-radius: 16px;
      }
      
      .compacta-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 2rem;
        align-items: start;
      }
      
      .compacta-destaque {
        order: 0;
      }
      
      .compacta-texto h3 {
        text-align: left;
        font-size: 1.4rem;
      }
      
      .opcao-linha {
        flex-direction: row;
        align-items: flex-start;
        gap: 0.75rem;
      }
      
      .opcao-linha i {
        margin-top: 0.1rem;
        flex-shrink: 0;
      }
      
      .opcao-linha span {
        font-size: 0.95rem;
      }
      
      .botoes-compactos {
        flex-direction: row;
        gap: 0.75rem;
      }
      
      .botoes-compactos .btn {
        width: auto;
        flex: 1;
      }
    }
    
    /* Desktop */
    @media (min-width: 1024px) {
      .intro-planos {
        max-width: 800px;
      }
      
      .pricing.compacto {
        gap: 1.5rem;
      }
      
      .compacta-grid {
        gap: 2.5rem;
      }
      
      .destaque-box {
        padding: 1.5rem;
      }
      
      .destaque-box i {
        font-size: 2rem;
      }
    }
    
    /* Large Desktop */
    @media (min-width: 1200px) {
      .pricing.compacto {
        max-width: 900px;
        margin-left: auto;
        margin-right: auto;
      }
    }
    
    /* === CORREÇÃO DOS BOTÕES DO QUIZ === */
    .quiz-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.875rem;
      margin-top: 0.875rem;
    }
    
    .quiz-option {
      border: 2px solid transparent;
      background: var(--branco);
      border-radius: 12px;
      padding: 1.125rem;
      display: flex;
      align-items: center;
      gap: 0.875rem;
      cursor: pointer;
      transition: var(--transition);
      text-align: left;
      width: 100%;
      min-height: 70px;
    }
    
    .quiz-option i {
      font-size: 1.3rem;
      color: var(--azul);
      flex-shrink: 0;
      width: 30px;
      text-align: center;
    }
    
    .quiz-option span {
      flex: 1;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
    
    .quiz-option:hover,
    .quiz-option:focus {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .quiz-option.selected {
      border-color: var(--dourado);
      background: linear-gradient(0deg, rgba(212,175,55,.08), rgba(212,175,55,.08)), #fff;
    }
    
    /* Em telas maiores, usar 2 colunas */
    @media (min-width: 480px) {
      .quiz-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    /* Em telas ainda maiores, usar 4 colunas */
    @media (min-width: 900px) {
      .quiz-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header id="header">
    <div class="container header-container">
      <a href="indexv2.html#home" class="logo">
        <img src="../assets/logoazulcinza.png" alt="VilaPlus Ginásio" class="logo-img"/>
      </a>
      <nav aria-label="Menu principal">
        <ul id="main-menu">
          <li><a href="indexv2.html#home">Início</a></li>
          <li><a href="servicosv2.html" aria-current="page">Serviços</a></li>
          <li><a href="projetosv2.html">Projetos</a></li>
          <li><a href="portfoliov2.html">Galeria</a></li>
          <li><a href="indexv2.html#horarios">Horários</a></li>
          <li><a href="parceriasv2.html">Parcerias</a></li>
          <li><a href="lojav2.html">Loja</a></li>
          <li><a href="noticiasv2.html">Notícias</a></li>
          <li><a href="contactsv2.html">Contactos</a></li>
        </ul>
      </nav>
      <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Abrir menu" aria-expanded="false" aria-controls="main-menu">
        <i class="fas fa-bars" aria-hidden="true"></i>
      </button>
    </div>
  </header>

  <!-- Hero (Serviços) - MELHORADO -->
  <section class="hero-servicos" role="banner" aria-labelledby="hero-heading" id="hero-servicos">
    <div class="hero-content">
      <h1 class="animate" id="hero-heading">Transformamos Objetivos em Realidade</h1>
      
      <div class="hero-buttons">
        <a href="https://www.regyfit.com/admin2/modulos/crm/site_integrations/aula_experimental.php?id_box=2064&id_int=4&acs=d78b8f480898e2d6afd80418263be90f&lang=pt&site=n"
          class="btn btn-filled animate delay-2">
          <i class="fas fa-calendar-check" aria-hidden="true"></i> Marcar Aula Experimental
        </a>
        <a href="#servicos-lista" class="btn animate delay-3">
          <i class="fas fa-search" aria-hidden="true"></i> Explorar Serviços
        </a>
      </div>
      
      <div class="hero-stats animate delay-3" aria-label="Estatísticas do ginásio">
        <div class="stat-item">
          <span class="stat-number">14+</span>
          <span class="stat-label">Serviços</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">35+</span>
          <span class="stat-label">Aulas Semanais</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">100%</span>
          <span class="stat-label">Personalizado</span>
        </div>
      </div>
    </div>
  </section>

<section class="quiz" id="quiz" aria-labelledby="quiz-heading">
    <div class="container quiz-wrap">
      <div class="section-title animate">
        <h2 id="quiz-heading">Qual o serviço mais adequado para ti?</h2>
        <p>Responde a 3 perguntas rápidas e recebe recomendações personalizadas.</p>
      </div>
      <div class="quiz-steps" aria-label="Progresso do questionário">
        <span class="quiz-step-dot active" data-step="1" aria-current="true"></span>
        <span class="quiz-step-dot" data-step="2"></span>
        <span class="quiz-step-dot" data-step="3"></span>
      </div>
      <div class="quiz-card animate delay-1" id="quizCard">
        <div class="quiz-step" data-step="1">
          <h3>1) Qual é o teu objetivo?</h3>
          <div class="quiz-grid">
            <div class="quiz-option" data-value="perda_gordura" role="button" tabindex="0">
              <i class="fa-solid fa-fire"></i>
              <span>Perder peso</span>
            </div>
            <div class="quiz-option" data-value="ganho_massa" role="button" tabindex="0">
              <i class="fa-solid fa-dumbbell"></i>
              <span>Ganhar massa muscular</span>
            </div>
            <div class="quiz-option" data-value="saude_bemestar" role="button" tabindex="0">
              <i class="fa-solid fa-heart-pulse"></i>
              <span>Saúde & bem-estar</span>
            </div>
            <div class="quiz-option" data-value="reabilitacao" role="button" tabindex="0">
              <i class="fa-solid fa-user-nurse"></i>
              <span>Reabilitação</span>
            </div>
          </div>
          <div class="quiz-actions">
            <button class="btn" disabled>Voltar</button>
            <button class="btn btn-filled" id="btnNext1" disabled>Continuar</button>
          </div>
        </div>
        <div class="quiz-step" data-step="2" style="display:none">
          <h3>2) Como preferes treinar?</h3>
          <div class="quiz-grid">
            <div class="quiz-option" data-value="grupo" role="button" tabindex="0">
              <i class="fa-solid fa-user-check"></i>
              <span>Sozinho</span>
            </div>
            <div class="quiz-option" data-value="individual" role="button" tabindex="0">
              <i class="fa-solid fa-people-arrows"></i>
              <span>Com um parceiro</span>
            </div>
            <div class="quiz-option" data-value="livre" role="button" tabindex="0">
              <i class="fa-solid fa-people-group"></i>
              <span>Em grupo</span>
            </div>
          </div>
          <div class="quiz-actions">
            <button class="btn" id="btnPrev2">Voltar</button>
            <button class="btn btn-filled" id="btnNext2" disabled>Continuar</button>
          </div>
        </div>
        <div class="quiz-step" data-step="3" style="display:none">
          <h3>3) Dás preferência a que tipo de treino?</h3>
          <div class="quiz-grid">
            <div class="quiz-option" data-value="pernas" role="button" tabindex="0">
              <i class="fa-solid fa-person-walking"></i>
              <span>Pernas</span>
            </div>
            <div class="quiz-option" data-value="superior" role="button" tabindex="0">
              <i class="fa-solid fa-dumbbell"></i>
              <span>Superior</span>
            </div>
            <div class="quiz-option" data-value="abdominais" role="button" tabindex="0">
              <i class="fa-solid fa-person"></i>
              <span>Abdominais</span>
            </div>
            <div class="quiz-option" data-value="geral" role="button" tabindex="0">
              <i class="fa-solid fa-bolt"></i>
              <span>Geral</span>
            </div>
          </div>
          <div class="quiz-actions">
            <button class="btn" id="btnPrev3">Voltar</button>
            <button class="btn btn-filled" id="btnFinish" disabled>Ver Recomendações</button>
          </div>
        </div>
        <div class="quiz-result" id="quizResult" style="display:none">
          <h4>Recomendações para ti 👇</h4>
          <p id="quizText"></p>
          <div id="quizBadges"></div>
          <div class="quiz-ctas">
            <a href="#servicos-lista" class="btn">Ver serviços recomendados</a>
            <a href="#horarios-aulas" class="btn">Ver horários</a>
          </div>
        </div>
      </div>
    </div>
  </section>

<!-- Categorias -->
<section class="categorias-servicos" id="servicos-lista" aria-labelledby="servicos-heading">
  <div class="container">
    <div class="section-title animate">
      <h2 id="servicos-heading">Explora os Nossos Serviços</h2>
      <p>Seleciona uma categoria para filtrar os serviços disponíveis.</p>
    </div>

    <!-- Filtros -->
    <div class="categorias-container animate delay-1" role="tablist" aria-label="Filtrar serviços por categoria">
      <button class="categoria-btn active" data-categoria="todos" role="tab" aria-selected="true" aria-controls="servicos-grid">Todos os Serviços</button>
      <button class="categoria-btn" data-categoria="personal" role="tab" aria-selected="false" aria-controls="servicos-grid">Treino Personalizado</button>
      <button class="categoria-btn" data-categoria="aulas" role="tab" aria-selected="false" aria-controls="servicos-grid">Aulas de Grupo</button>
      <button class="categoria-btn" data-categoria="musculacao" role="tab" aria-selected="false" aria-controls="servicos-grid">Musculação</button>
      <button class="categoria-btn" data-categoria="fisioterapia" role="tab" aria-selected="false" aria-controls="servicos-grid">Fisioterapia</button>
      <button class="categoria-btn" data-categoria="nutrição" role="tab" aria-selected="false" aria-controls="servicos-grid">Nutrição</button>
      <button class="categoria-btn" data-categoria="online" role="tab" aria-selected="false" aria-controls="servicos-grid">Acompanhamento Online</button>
      <button class="categoria-btn" data-categoria="domicilio" role="tab" aria-selected="false" aria-controls="servicos-grid">Domícilio</button>
    </div>

    <!-- SLIDER: "Todos os Serviços" -->
    <div class="carousel" aria-roledescription="carousel" aria-label="Lista de serviços" id="servicos-carousel">
    <div class="carousel-track" id="carousel-track" role="group" aria-live="polite"></div>
    <div class="carousel-controls" aria-hidden="false">
        <button class="slider-btn" id="slider-prev" aria-label="Anterior"><i class="fas fa-chevron-left"></i></button>
        <div class="slider-dots" id="slider-dots" role="tablist" aria-label="Paginação do carrossel"></div>
        <button class="slider-btn" id="slider-next" aria-label="Seguinte"><i class="fas fa-chevron-right"></i></button>
    </div>
    </div>


    <div class="servicos-grid" id="servicos-grid" role="tabpanel">
      <!-- Personal Training -->
      <div class="servico-card" data-categoria="personal">
        <div class="servico-imagem">
          <img src="../assets/servicos/pt.png" alt="Treino Personalizado" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Treino Personalizado</h3>
          <p>No Vila Plus, o treino é feito à tua medida. Cada exercício, cada série e cada desafio é pensado para te ajudar a alcançar os teus objetivos de forma segura e eficiente. Com o acompanhamento de um personal trainer, vais mais longe do que alguma vez imaginaste.</p>
          <div class="servico-beneficios">
            <h4>Vantagens:</h4>
            <ul class="beneficios-list">
              <li>Planos 100% personalizados</li>
              <li>Acompanhamento individualizado</li>
              <li>Adaptado às tuas necessidades e objetivos</li>
              <li>Evolução segura e eficaz</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Treino Personalizado</span>
            <!-- (Sem "Saber Mais") — o botão "Detalhes" será inserido via JS -->
          </div>

          <!-- Detalhes para modal -->
          <div class="servico-detalhes" id="detalhes-treino-personalizado">
            <div class="detalhe-texto">
              <p>Sessões de 50–60 minutos focadas nos teus objetivos (força, hipertrofia, perda de gordura ou performance). Avaliação inicial incluída, com reavaliações mensais. Plano de treino e feedback contínuo por WhatsApp.</p>
            </div>

            <!-- Galeria de vídeos -->
            <div class="galeria-servico" role="list" aria-label="Galeria de Treino Personalizado">
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/pt.png">
                <source src="/assets/1.mp4" type="video/mp4">
                O teu navegador não suporta vídeos HTML5.
              </video>
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/pt.png">
                <source src="/assets/4.mp4" type="video/mp4">
              </video>
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/pt.png">
                <source src="/assets/5.mp4" type="video/mp4">
              </video>
            </div>

          </div>
        </div>
      </div>

      <div class="servico-card" data-categoria="personal">
        <div class="servico-imagem">
          <img src="../assets/servicos/pt_dup.png" alt="Treino Personalizado" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Treino Personalizado Duo</h3>
          <p>No Vila Plus, o treino é feito à tua medida e do teu parceiro. Cada exercício, cada série e cada desafio é pensado para vos ajudar a alcançar os vossos objetivos de forma segura e eficiente. Com o acompanhamento de um personal trainer, vão mais longe do que alguma vez imaginaram.</p>
          <div class="servico-beneficios">
            <h4>Vantagens:</h4>
            <ul class="beneficios-list">
              <li>Planos 100% personalizados</li>
              <li>Motivação Redobrada</li>
              <li>Adaptado às vossas necessidades e objetivos</li>
              <li>Partilha para maximizar resultados</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Treino Personalizado</span>
            <!-- (Sem "Saber Mais") — o botão "Detalhes" será inserido via JS -->
          </div>

          <!-- Detalhes para modal -->
          <div class="servico-detalhes" id="detalhes-treino-personalizado">
            <div class="detalhe-texto">
              <p>Sessões de 50–60 minutos focadas nos vossos objetivos (força, hipertrofia, perda de gordura ou performance). Avaliação inicial incluída, com reavaliações mensais. Plano de treino e feedback contínuo por WhatsApp.</p>
            </div>
            <!-- Galeria de vídeos -->
            <div class="galeria-servico" role="list" aria-label="Galeria de Treino Personalizado">
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/pt.png">
                <source src="/assets/1.mp4" type="video/mp4">
                O teu navegador não suporta vídeos HTML5.
              </video>
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/pt.png">
                <source src="/assets/4.mp4" type="video/mp4">
              </video>
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/pt.png">
                <source src="/assets/5.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
      </div>

      <!-- Card-resumo Aulas de Grupo (mostra em "Todos") -->
      <div class="servico-card" data-categoria="aulas-resumo">
        <div class="servico-imagem">
          <img src="../assets/servicos/aulas.png" alt="Aulas de Grupo" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Aulas de Grupo</h3>
          <p>Um mix de energia e motivação com várias modalidades: Kickboxing, Pilates Clínico, Zumba, Step, Circuito, Treino Funcional, HIIT, Aeróbica, GAP. Vê a lista completa e horários no filtro "Aulas de Grupo".</p>

          <div class="servico-beneficios">
            <h4>Inclui:</h4>
            <ul class="beneficios-list">
              <li>Modalidades para todos os níveis</li>
              <li>Foco em cardio, força e coordenação</li>
              <li>Ambiente motivador e acompanhado</li>
            </ul>
          </div>

          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
            <a href="#servicos-lista" class="btn"
               onclick="document.querySelector('.categoria-btn[data-categoria=&quot;aulas&quot;]').click()">
              Ver todas as aulas
            </a>
          </div>
        </div>
      </div>

      <!-- ===== AULAS DE GRUPO ===== -->
      <!-- Kickboxing -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/kick.png" alt="Kickboxing" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Kickboxing</h3>
          <p>Aula energética que combina movimentos de combate com treino cardiovascular. Trabalhas força, resistência, coordenação e agilidade, enquanto libertas o stress e melhoras a tua forma física. <strong>Disponível aos sábados no Vila Plus.</strong></p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Força e resistência</li>
              <li>Coordenação e agilidade</li>
              <li>Queima calórica elevada</li>
              <li>Libertação de stress</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>

          <div class="servico-detalhes" id="detalhes-kickboxing">
            <div class="detalhe-texto">
              <p>Técnicas básicas de golpe, combinações com saco e trabalho de pés. Intensidades adaptadas por nível, com foco na técnica e segurança.</p>
            </div>
            <!-- Galeria de vídeos -->
            <div class="galeria-servico" role="list" aria-label="Galeria Kickboxing">
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/kick.png">
                <source src="/assets/servicos/kick.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
      </div>

      <!-- Pilates Clínico -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/pilates.png" alt="Pilates Clínico" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Pilates Clínico</h3>
          <p>Focado na reabilitação e prevenção de lesões, melhora a postura, a força do core (zona abdominal) e a flexibilidade, sempre com acompanhamento profissional.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Reabilitação e prevenção</li>
              <li>Postura e core</li>
              <li>Flexibilidade</li>
              <li>Acompanhamento profissional</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>

          <div class="servico-detalhes" id="detalhes-pilates">
            <div class="detalhe-texto">
              <p>Exercícios controlados com foco em respiração, ativação do core e mobilidade. Aulas em pequenos grupos para correção próxima e adaptações em caso de dor.</p>
            </div>
            <!-- Galeria de vídeos -->
            <div class="galeria-servico" role="list" aria-label="Galeria de Treino Personalizado">
              <img src="../assets/zumpi/c88d69c7-674d-4efb-aacc-372fdf46a705.jpg" alt="Pilates no tapete" role="listitem" loading="lazy">
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/pilates.png">
                <source src="../assets/servicos/pilates.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
      </div>

      <!-- Zumba -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/zumba.png" alt="Zumba" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Zumba</h3>
          <p>Diverte-te com ritmo de dança! Queima calorias, melhora a coordenação e garante energia positiva a cada aula.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Queima calórica</li>
              <li>Coordenação e ritmo</li>
              <li>Boa disposição</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>
        </div>
      </div>

      <!-- Step -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/step.png" alt="Step" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Step</h3>
          <p>Aula de cardio com exercícios no step, ideal para tonificar pernas e glúteos enquanto aumentas a resistência.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Resistência cardiovascular</li>
              <li>Tonificação de pernas e glúteos</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>
        </div>
      </div>

      <!-- Circuito -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/circuito.png" alt="Circuito" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Circuito</h3>
          <p>Treino dinâmico que combina força e cardio em estações. Mantém o ritmo elevado e trabalha todo o corpo de forma equilibrada.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Corpo inteiro</li>
              <li>Força + cardio</li>
              <li>Ritmo elevado</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>
        </div>
      </div>

      <!-- Funcional -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/funcional.png" alt="Treino Funcional" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Funcional</h3>
          <p>Exercícios que fortalecem os músculos e melhoram os movimentos do dia-a-dia, aumentando a resistência, o equilíbrio e a flexibilidade.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Força funcional</li>
              <li>Equilíbrio e mobilidade</li>
              <li>Resistência</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>
        </div>
      </div>

      <!-- HIIT -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/hiit.png" alt="HIIT" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>HIIT</h3>
          <p>Treino intervalado de alta intensidade com recuperações curtas — perfeito para queimar calorias e aumentar a capacidade cardiovascular.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Grande gasto calórico</li>
              <li>Eficiência de tempo</li>
              <li>Capacidade cardiovascular</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>
        </div>
      </div>

      <!-- Aeróbica -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/aerobica.png" alt="Aeróbica" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Aeróbica</h3>
          <p>Aula de cardio que combina movimentos rítmicos para melhorar a resistência, a coordenação e a saúde cardiovascular.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Resistência và coordenação</li>
              <li>Saúde cardiovascular</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>
        </div>
      </div>

      <!-- GAP -->
      <div class="servico-card" data-categoria="aulas">
        <div class="servico-imagem">
          <img src="../assets/servicos/gap.png" alt="GAP - Glúteos, Abdominais e Pernas" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>GAP (Glúteos, Abdominais e Pernas)</h3>
          <p>Focado em tonificar glúteos, abdominais e pernas. Aumenta a força e promove uma definição muscular visível e equilibrada.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Tonificação localizada</li>
              <li>Força muscular</li>
              <li>Definição equilibrada</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Aulas de Grupo</span>
          </div>
        </div>
      </div>

      <!-- ===== Musculação ===== -->
      <div class="servico-card" data-categoria="musculacao">
        <div class="servico-imagem">
          <img src="../assets/servicos/muscu.png" alt="Musculação" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Musculação</h3>
          <p>Cada treino de musculação é pensado para ti. Combinamos exercícios com pesos e equipamentos para aumentar força, tonificar músculos e melhorar a tua resistência, sempre adaptado ao teu nível e objetivos.</p>
          <div class="servico-beneficios">
            <h4>Benefícios:</h4>
            <ul class="beneficios-list">
              <li>Força e massa muscular</li>
              <li>Tonificação</li>
              <li>Mais resistência</li>
              <li>Equipamentos modernos</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Musculação</span>
            <!-- (Sem "Saber Mais") — o botão "Detalhes" será inserido via JS -->
          </div>

          <div class="servico-detalhes" id="detalhes-musculacao">
            <div class="detalhe-texto">
              <p>Plano adaptado (full-body, push/pull/legs ou upper/lower) com progressão semanal. Técnicos disponíveis para correção e adaptações. Registo de cargas e evolução.</p>
            </div>
            <!-- Galeria de vídeos -->
            <div class="galeria-servico" role="list" aria-label="Galeria de Musculação">
              <img src="../assets/zumpi/b48ce292-f13d-4a5e-94cc-da966df0a50c.jpg" alt="Musculação" role="listitem" loading="lazy">
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/muscu.png">
                <source src="/assets/1.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
      </div>

      <!-- ===== Fisioterapia ===== -->
      <div class="servico-card" data-categoria="fisioterapia">
        <div class="servico-imagem">
          <img src="../assets/servicos/fisio.png" alt="Fisioterapia" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Fisioterapia</h3>
          <p>No Vila Plus cuidamos de ti de forma única. Seja para recuperar de uma lesão, melhorar o bem-estar ou o contorno corporal, temos fisioterapia, pressoterapia, drenagem linfática, crioterapia, cavitação, radiofrequência, HIFU e massagens relaxantes ou modeladoras.</p>
          <div class="servico-beneficios">
            <h4>Serviços:</h4>
            <ul class="beneficios-list">
              <li>Reabilitação</li>
              <li>Pressoterapia &amp; drenagem</li>
              <li>Tratamentos estéticos</li>
              <li>Massagens especializadas</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Fisioterapia</span>
            <!-- (Sem "Marcar Consulta") — o botão "Detalhes" será inserido via JS -->
          </div>

          <div class="servico-detalhes" id="detalhes-fisioterapia">
            <div class="detalhe-texto">
              <p>Avaliação funcional, plano terapêutico individualizado e educação para o movimento. Técnicas manuais, exercício terapêutico e equipamentos específicos quando indicado.</p>
            </div>
            <!-- Galeria de vídeos -->
            <div class="galeria-servico" role="list" aria-label="Galeria de Fisioterapia">
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/fisio.png">
                <source src="/assets/servicos/fisio.mp4" type="video/mp4">
                O teu navegador não suporta vídeos HTML5.
              </video>
              <video controls preload="metadata" playsinline role="listitem" poster="../assets/servicos/fisio.png">
                <source src="/assets/servicos/fisio2.mp4" type="video/mp4">
                  O teu navegador não suporta vídeos HTML5.
              </video>
            </div>
          </div>
        </div>
      </div>

      <!-- ===== Nutrição ===== -->
      <div class="servico-card" data-categoria="nutrição">
        <div class="servico-imagem">
          <img src="../assets/servicos/nutri.png" alt="Nutrição" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Nutrição</h3>
          <p>No Vila Plus, a nossa nutricionista cria planos personalizados para te ajudar a atingir os teus objetivos. Com acompanhamento dedicado, vais ganhar vitalidade, saúde e resultados concretos, adaptados ao teu estilo de vida.</p>
          <div class="servico-beneficios">
            <h4>Vantagens:</h4>
            <ul class="beneficios-list">
              <li>Planos personalizados</li>
              <li>Ajuste ao teu estilo de vida</li>
              <li>Resultados mensuráveis</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Nutrição</span>
            <!-- (Sem "Agendar Consulta") — o botão "Detalhes" será inserido via JS -->
          </div>

          <div class="servico-detalhes" id="detalhes-nutrição">
            <div class="detalhe-texto">
              <p>Consulta inicial com avaliação de hábitos, restrições e objetivos. Plano prático com alternativas e receitas simples. Acompanhamento e ajustes quinzenais ou mensais.</p>
            </div>
            <div class="galeria-servico" role="list" aria-label="Galeria de Nutrição">
              <img src="../assets/servicos/nutri1.jpg" alt="Relato" role="listitem" loading="lazy">
              <img src="../assets/servicos/nutri2.jpg" alt="Relato" role="listitem" loading="lazy">
            </div>
          </div>
        </div>
      </div>

      <!-- ===== Acompanhamento Online ===== -->
      <div class="servico-card" data-categoria="online">
        <div class="servico-imagem">
          <img src="../assets/servicos/acomp_online.png" alt="Acompanhamento Online" loading="lazy"/>
        </div>
        <div class="servico-info">
          <h3>Acompanhamento Online</h3>
          <p>Treina com orientação profissional onde estiveres. Recebe planos, acompanha a evolução e fala com a equipa por app/WhatsApp.</p>
          <div class="servico-beneficios">
            <h4>Opções:</h4>
            <ul class="beneficios-list">
              <li>App com planos de treino</li>
              <li>Planos de treino + plano alimentar</li>
              <li>Treino personalizado online</li>
              <li>Treino personalizado online + plano alimentar</li>
            </ul>
          </div>
          <div class="servico-meta">
            <span class="servico-categoria">Online</span>
            <!-- (Sem "Quero Saber Mais") — o botão "Detalhes" será inserido via JS -->
          </div>

          <div class="servico-detalhes" id="detalhes-online">
            <div class="detalhe-texto">
              <p>Integração por app para receber planos, vídeos de execução e chat com a equipa. Ajustes semanais conforme feedback e disponibilidade de material (ginásio ou casa).</p>
            </div>
          </div>
        </div>
      </div>

      <div class="servico-card" data-categoria="domicilio" data-inclui="PT em casa • Treino adaptado ao espaço • Ajustes semanais • Acompanhamento contínuo">
            <div class="servico-imagem">
                <img src="../assets/servicos/domicio.png" alt="Treino ao domicílio" loading="lazy"/>
            </div>

            <div class="servico-info">
                <h3>Treino ao domicílio</h3>
                <p>Queres treinar no conforto da tua casa e precisas de um profissional para te ajudar a alcançar os teus objetivos? Fala connosco.</p>

                <div class="servico-beneficios">
                <h4>Indicado para:</h4>
                <ul class="beneficios-list">
                    <li>Tens equipamentos e precisas de um profissional para te orientar</li>
                    <li>Preferes treinar de forma privada e no teu próprio espaço</li>
                    <li>Preferes treinar em casa para evitar deslocações e ser mais consistente</li>
                    <li>Tem mobilidade reduzida e encontra no treino em casa a melhor solução</li>
                </ul>
                </div>

                <div class="servico-meta">
                <span class="servico-categoria">Domicílio</span>
                <!-- (Sem "Quero Saber Mais") — o botão "Detalhes" será inserido via JS -->
                </div>

                <div class="servico-detalhes" id="detalhes-domicilio">
                <div class="detalhe-texto">
                    <p>O Personal Trainer vai até tua casa com o plano certo para ti. Adaptamos o treino ao espaço e ao material disponível
                    (desde treino com o peso do corpo até halteres, elásticos, kettlebells, etc.). Acompanhamento próximo para garantir segurança,
                    progressão e resultados.</p>
                </div>
                </div>
            </div>
            </div>


    </div><!-- /.servicos-grid -->
  </div>
</section>

  <!-- Planos Vila Plus - Texto Completo Compacto -->
  <section class="planos" id="planos" aria-labelledby="planos-heading">
    <div class="container">
      <div class="section-title animate">
        <h2 id="planos-heading">Planos Vila Plus</h2>
      </div>

      <!-- Introdução -->
      <div class="intro-planos animate">
        <p><strong>Não temos fidelização.</strong> Temos vários planos de mensalidades, em função da frequência semanal e do tipo de treino. Existe a opção de anuidade para quem prefere um compromisso mais longo e vantajoso.</p>
        <p><strong>Somos um projeto de inclusão e a pensar na comunidade.</strong></p>
      </div>

      <!-- Descontos -->
      <div class="descontos-comunidade animate delay-1">
        <div class="pricing compacto">
          <div class="price-card">
            <div class="price-header">
              <span class="price-title">Sócios &amp; Jogadores GCD Vila Caiz</span>
              <span class="price-tag">-10%</span>
            </div>
          </div>

          <div class="price-card">
            <div class="price-header">
              <span class="price-title">+60 &amp; Estudantes</span>
              <span class="price-tag">-20%</span>
            </div>
          </div>

          <div class="price-card">
            <div class="price-header">
              <span class="price-title">Casal</span>
              <span class="price-tag">-10%</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Abordagem Personalizada -->
      <div class="abordagem-compacta animate delay-2">
        <div class="compacta-grid">
          <div class="compacta-texto">
            <h3>Preços Personalizados</h3>
            <p><strong>Mais do que tabelas fixas, no Vila Plus os preços são personalizados, tal como o acompanhamento que oferecemos.</strong></p>
            
            <div class="opcoes-lista">
              <div class="opcao-linha">
                <i class="fas fa-dumbbell"></i>
                <span><strong>Treino livre ou aulas de grupo:</strong> 1x, 2x, 3x por semana ou ilimitado</span>
              </div>
              <div class="opcao-linha">
                <i class="fas fa-user-tie"></i>
                <span><strong>Treino personalizado:</strong> individual ou duo, avulso ou em packs de sessões (mais económicos)</span>
              </div>
              <div class="opcao-linha">
                <i class="fas fa-laptop-house"></i>
                <span><strong>Treino online ou ao domicílio,</strong> conforme os serviços contratados.</span>
              </div>
            </div>

            <div class="chamada-acao-completa">
              <p><strong>O ideal é conversarmos para encontrar a melhor opção para ti.</strong></p>
              <p>💬 <strong>Podes agendar um treino experimental gratuito, sem qualquer compromisso.</strong> Explicamos-te tudo e ajudamos-te a escolher o plano certo.</p>
              <p class="destaque-final"><strong>No Vila Plus, há sempre uma opção que se ajusta a ti, seja pelos objetivos, horários ou possibilidades financeiras.</strong></p>
            </div>

            <div class="botoes-compactos">
              <a href="https://wa.link/pyak7l" class="btn btn-filled" target="_blank">
                <i class="fab fa-whatsapp"></i> Falar Connosco
              </a>
              <a href="https://www.regyfit.com/admin2/modulos/crm/site_integrations/aula_experimental.php?id_box=2064&id_int=4&acs=d78b8f480898e2d6afd80418263be90f&lang=pt&site=n" 
                 class="btn">
                <i class="fas fa-calendar-check"></i> Treino Experimental
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="servicos-destaque" aria-labelledby="destaques-heading">
    <div class="container">
      <div class="section-title animate">
        <h2 id="destaques-heading">Porquê escolher o Vila Plus</h2>
        <p>Conhece os nossos diferenciais exclusivos.</p>
      </div>
      <div class="destaque-container">
        <div class="destaque-card"><div class="destaque-icon"><i class="fas fa-user-md" aria-hidden="true"></i></div><h3>Profissionais Certificados</h3><p>Equipa multidisciplinar com formação especializada e experiência comprovada.</p></div>
        <div class="destaque-card"><div class="destaque-icon"><i class="fas fa-dumbbell" aria-hidden="true"></i></div><h3>Equipamentos Modernos</h3><p>Máquinas de última geração e ambiente climatizado para o teu conforto.</p></div>
        <div class="destaque-card"><div class="destaque-icon"><i class="fas fa-heart" aria-hidden="true"></i></div><h3>Acompanhamento Personalizado</h3><p>Planos adaptados às tuas necessidades e objetivos pessoais.</p></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-container">
        <div class="footer-col animate">
          <h3>Vila Plus</h3>
          <p>Saúde. Força. Comunidade.</p>
          <p>O teu ginásio de eleição em Vila Caiz.</p>
        </div>
        <div class="footer-col animate delay-1">
          <h3>Links Rápidos</h3>
          <div class="footer-links">
            <ul>
              <li><a href="indexv2.html#home">Início</a></li>
              <li><a href="projetosv2.html">Projetos</a></li>
              <li><a href="portfoliov2.html">Galeria</a></li>
              <li><a href="indexv2.html#horarios">Horários</a></li>
              <li><a href="parceriasv2.html">Parcerias</a></li>
              <li><a href="lojav2.html">Loja</a></li>
              <li><a href="noticiasv2.html">Notícias</a></li>
              <li><a href="contactsv2.html">Contactos</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-col animate delay-2">
          <h3>Serviços</h3>
          <div class="footer-links">
            <ul>
              <li><a href="servicosv2.html#categorias-servicos" data-categoria="todos">Todos</a></li>
              <li><a href="servicosv2.html#categorias-servicos" data-categoria="personal">Treino Personalizado</a></li>
              <li><a href="servicosv2.html#categorias-servicos" data-categoria="aulas">Aulas de Grupo</a></li>
              <li><a href="servicosv2.html#categorias-servicos" data-categoria="musculacao">Musculação</a></li>
              <li><a href="servicosv2.html#categorias-servicos" data-categoria="fisioterapia">Fisioterapia</a></li>
              <li><a href="servicosv2.html#categorias-servicos" data-categoria="nutrição">Nutrição</a></li>
              <li><a href="servicosv2.html#categorias-servicos" data-categoria="online">Acompanhamento Online</a></li>
              <li><a href="servicosv2.html#categorias-servicos" data-categoria="domicilio">Domícilio</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-col animate delay-3">
          <h3>Redes Sociais</h3>
          <div class="social-links">
            <a href="https://www.facebook.com/p/Vila-Plus-61552410020366/" aria-label="Facebook" target="_blank" rel="noopener"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.instagram.com/vilaplus.pt/" aria-label="Instagram" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
            <a href="https://wa.link/pyak7l" aria-label="WhatsApp" target="_blank" rel="noopener"><i class="fab fa-whatsapp"></i></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Floating CTA -->
  <div class="floating-cta">
    <button class="fab-contact pulse" id="fabContact" aria-label="Marcar aula ou falar connosco">
      <i class="fas fa-calendar-check" aria-hidden="true"></i> <span>Marcar Aula</span>
    </button>
  </div>

  <!-- Modal de Serviço (imagens + vídeo) -->
  <div class="modal-overlay" id="servicoModal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal" role="document">
      <div class="modal-header">
        <h3 class="modal-title" id="modalTitle">Detalhes</h3>
        <button class="modal-close" id="modalClose" aria-label="Fechar">&times;</button>
      </div>
      <div class="modal-body">
        <div class="modal-grid">
          <div class="modal-media">
            <img src="" alt="" class="modal-mainimg" id="modalMainImg" style="display:none">
            <video class="modal-mainvideo" id="modalMainVideo" style="display:none" controls playsinline></video>
            <div class="modal-thumbs" id="modalThumbs"></div>
          </div>
          <div class="modal-info">
            <p id="modalDesc"></p>
            <div class="modal-meta">
              <div class="meta-card"><strong>Inclui</strong><p id="modalInclui" style="margin-top:6px"></p></div>
              <div class="meta-card"><strong>Duração</strong><p id="modalDuracao" style="margin-top:6px"></p></div>
            </div>
            <div class="modal-actions" id="modalCTAs"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="scroll-hint" id="scrollHint" aria-hidden="true">
    <i class="fas fa-angle-down"></i>
  </div>

  <script>
    // ===== [MENU MOBILE — NOTÍCIAS] =====
    document.addEventListener('DOMContentLoaded', function() {
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mainMenu = document.getElementById('main-menu');

      if (mobileMenuBtn && mainMenu) {
        // Toggle menu + ícone
        mobileMenuBtn.addEventListener('click', function() {
          const isExp = this.getAttribute('aria-expanded') === 'true';
          this.setAttribute('aria-expanded', String(!isExp));
          mainMenu.classList.toggle('show');
          const icon = this.querySelector('i');
          if (icon) icon.className = isExp ? 'fas fa-bars' : 'fas fa-times';
        });

        // Fechar ao clicar num link em mobile
        mainMenu.querySelectorAll('a').forEach(a => {
          a.addEventListener('click', () => {
            if (window.innerWidth <= 768) {
              mainMenu.classList.remove('show');
              mobileMenuBtn.setAttribute('aria-expanded', 'false');
              const icon = mobileMenuBtn.querySelector('i');
              if (icon) icon.className = 'fas fa-bars';
            }
          });
        });
      }

      // Header sombra ao scroll
      const header = document.getElementById('header');
      if (header) {
        const onScroll = () => {
          if (window.scrollY > 100) header.classList.add('scrolled');
          else header.classList.remove('scrolled');
        };
        onScroll();
        window.addEventListener('scroll', onScroll);
      }

      // Smooth scroll para âncoras, compensando o header
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', e => {
          const id = anchor.getAttribute('href');
          if (!id || id === '#') return;
          const el = document.querySelector(id);
          if (!el) return;
          e.preventDefault();
          const top = el.getBoundingClientRect().top + window.scrollY - (document.getElementById('header')?.offsetHeight || 0);
          window.scrollTo({top, behavior: 'smooth'});
          if (history.pushState) history.pushState(null, '', id);
        });
      });
    });

    // Atualiza --header-h se o header mudar de altura (igual Notícias)
    (function() {
      const header = document.getElementById('header');
      if (!header) return;
      const setVar = () => document.documentElement.style.setProperty('--header-h', (header.offsetHeight || 60) + 'px');
      ['DOMContentLoaded', 'load', 'resize', 'scroll'].forEach(ev => window.addEventListener(ev, setVar));
      if ('ResizeObserver' in window) {
        new ResizeObserver(setVar).observe(header);
      }
    })();

    // Scroll hint (igual Notícias)
    (function() {
      const hint = document.getElementById('scrollHint');
      if (!hint) return;
      function toggle() {
        const y = window.scrollY, h = window.innerHeight, d = document.body.scrollHeight;
        if (y + h >= d - 50) hint.classList.add('hide');
        else hint.classList.remove('hide');
      }
      window.addEventListener('scroll', toggle);
      window.addEventListener('resize', toggle);
      document.addEventListener('DOMContentLoaded', toggle);
    })();
  </script>
  <script>
  // Floating CTA
  (function() {
    const btn = document.getElementById('fabContact');
    if (!btn) return;
    
    btn.addEventListener('click', () => {
      window.location.href = 'https://www.regyfit.com/admin2/modulos/crm/site_integrations/aula_experimental.php?id_box=2064&id_int=4&acs=d78b8f480898e2d6afd80418263be90f&lang=pt&site=n';
    });
  })();

  // Animate on scroll
  function animateOnScroll() {
    document.querySelectorAll('.animate').forEach(el => {
      const top = el.getBoundingClientRect().top;
      if (top < window.innerHeight - 100) {
        el.classList.add('show');
      }
    });
    
    document.querySelectorAll('.servico-card').forEach(el => {
      const top = el.getBoundingClientRect().top;
      if (top < window.innerHeight - 100) {
        el.classList.add('visible');
      }
    });
    
    document.querySelectorAll('.destaque-card').forEach(el => {
      const top = el.getBoundingClientRect().top;
      if (top < window.innerHeight - 100) {
        el.classList.add('visible');
      }
    });
  }
  
  window.addEventListener('DOMContentLoaded', animateOnScroll);
  window.addEventListener('scroll', animateOnScroll);

  // --- Filtro de categorias (atualizado) ---
  const categoriaBtns = document.querySelectorAll('.categoria-btn');
  const servicoCards = document.querySelectorAll('.servico-card');

  


  function aplicarFiltro(cat) {
    servicoCards.forEach(card => {
      const c = card.getAttribute('data-categoria');
      let mostrar = false;
      
      if (cat === 'todos') {
        mostrar = (c !== 'aulas');
      } else if (cat === 'aulas') {
        mostrar = (c === 'aulas');
      } else {
        mostrar = (c === cat);
      }

      if (c === 'aulas-resumo') {
        mostrar = (cat === 'todos');
      }

      card.style.display = mostrar ? 'flex' : 'none';
    });

    

    if (typeof prepararBotoesDetalhes === 'function') {
      setTimeout(prepararBotoesDetalhes, 0);
    }
  }

  categoriaBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      // Atualizar estado dos tabs
      categoriaBtns.forEach(b => {
        b.classList.remove('active');
        b.setAttribute('aria-selected', 'false');
      });
      
      btn.classList.add('active');
      btn.setAttribute('aria-selected', 'true');
      
      aplicarFiltro(btn.getAttribute('data-categoria'));
    });
    
    // Adicionar suporte a teclado para tabs
    btn.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        btn.click();
      }
    });
  });

  // Estado inicial: "Todos" esconde as aulas e mostra o resumo
  window.addEventListener('DOMContentLoaded', () => {
    const btnTodos = document.querySelector('.categoria-btn[data-categoria="todos"]');
    if (btnTodos) {
      btnTodos.classList.add('active');
      btnTodos.setAttribute('aria-selected', 'true');
      aplicarFiltro('todos');
    }
  });

  // Filtro de dias
  const filtroDias = document.querySelectorAll('.filtro-dia');
  const diasHorarios = document.querySelectorAll('.dia-horarios');
  
  filtroDias.forEach(f => {
    f.addEventListener('click', () => {
      // Atualizar estado dos tabs
      filtroDias.forEach(x => {
        x.classList.remove('ativo');
        x.setAttribute('aria-selected', 'false');
      });
      
      f.classList.add('ativo');
      f.setAttribute('aria-selected', 'true');
      
      const dia = f.getAttribute('data-dia');
      if (dia === 'todos') {
        diasHorarios.forEach(d => d.style.display = 'block');
      } else {
        diasHorarios.forEach(d => d.style.display = 'none');
        const el = document.getElementById(dia);
        if (el) el.style.display = 'block';
      }
    });
    
    // Adicionar suporte a teclado para tabs
    f.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        f.click();
      }
    });
  });
  
  // Destacar o dia de hoje
  (function() {
    const map = ['domingo', 'segunda', 'terca', 'quarta', 'quinta', 'sexta', 'sabado'];
    const hoje = map[new Date().getDay()];
    if (hoje !== 'domingo') {
      const el = document.getElementById(hoje);
      if (el) {
        el.classList.add('hoje');
      }
    }
  })();

  // ==== QUIZ Logic ====
  const quizState = { step: 1, respostas: {} };
  const stepDots = document.querySelectorAll('.quiz-step-dot');
  
  function setStep(n) {
    quizState.step = n;
    document.querySelectorAll('.quiz-step').forEach(s => s.style.display = 'none');
    const current = document.querySelector(`.quiz-step[data-step="${n}"]`);
    if (current) current.style.display = 'block';
    
    stepDots.forEach(d => {
      const isActive = Number(d.dataset.step) <= n;
      d.classList.toggle('active', isActive);
      if (isActive) {
        d.setAttribute('aria-current', 'true');
      } else {
        d.removeAttribute('aria-current');
      }
    });
    
    document.getElementById('quizResult').style.display = 'none';
    document.getElementById('quizCard').scrollIntoView({ behavior: 'smooth', block: 'center' });
  }
  
  // Step 1
  const step1 = document.querySelector('.quiz-step[data-step="1"]');
  const btnNext1 = document.getElementById('btnNext1');
  
  step1.querySelectorAll('.quiz-option').forEach(opt => {
    opt.addEventListener('click', () => {
      step1.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
      opt.classList.add('selected');
      quizState.respostas.objetivo = opt.dataset.value;
      btnNext1.disabled = false;
    });
    
    // Suporte a teclado
    opt.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        opt.click();
      }
    });
  });
  
  btnNext1.addEventListener('click', () => setStep(2));
  
  // Step 2
  const step2 = document.querySelector('.quiz-step[data-step="2"]');
  const btnPrev2 = document.getElementById('btnPrev2');
  const btnNext2 = document.getElementById('btnNext2');
  
  step2.querySelectorAll('.quiz-option').forEach(opt => {
    opt.addEventListener('click', () => {
      step2.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
      opt.classList.add('selected');
      quizState.respostas.formato = opt.dataset.value;
      btnNext2.disabled = false;
    });
    
    // Suporte a teclado
    opt.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        opt.click();
      }
    });
  });
  
  if (btnPrev2) {
    btnPrev2.addEventListener('click', () => setStep(1));
  }
  
  btnNext2.addEventListener('click', () => setStep(3));
  
  // Step 3
  const step3 = document.querySelector('.quiz-step[data-step="3"]');
  const btnPrev3 = document.getElementById('btnPrev3');
  const btnFinish = document.getElementById('btnFinish');
  
  step3.querySelectorAll('.quiz-option').forEach(opt => {
    opt.addEventListener('click', () => {
      step3.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
      opt.classList.add('selected');
      quizState.respostas.intensidade = opt.dataset.value;
      btnFinish.disabled = false;
    });
    
    // Suporte a teclado
    opt.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        opt.click();
      }
    });
  });
  
  if (btnPrev3) {
    btnPrev3.addEventListener('click', () => setStep(2));
  }
  
  btnFinish.addEventListener('click', () => {
    const r = quizState.respostas;
    const badges = [];
    let texto = "Recomendamos: ";
    
    if (r.objetivo === 'perda_gordura') {
      badges.push('HIIT', 'Circuito', 'Zumba');
    }
    if (r.objetivo === 'ganho_massa') {
      badges.push('Musculação', 'Personal Training');
    }
    if (r.objetivo === 'saude_bemestar') {
      badges.push('Pilates Clínico', 'Funcional');
    }
    if (r.objetivo === 'reabilitacao') {
      badges.push('Fisioterapia', 'Pilates Clínico');
    }
    
    if (r.formato === 'grupo') {
      badges.push('Aulas de Grupo');
    }
    if (r.formato === 'individual') {
      badges.push('Personal Training');
    }
    if (r.formato === 'livre') {
      badges.push('Musculação');
    }
    
    if (r.intensidade === 'baixa') {
      badges.push('Baixa intensidade');
    }
    if (r.intensidade === 'media') {
      badges.push('Média intensidade');
    }
    if (r.intensidade === 'alta') {
      badges.push('Alta intensidade');
    }
    
    texto += badges.slice(0, 3).join(' • ') + ".";
    document.getElementById('quizText').textContent = texto;
    
    const badgesEl = document.getElementById('quizBadges');
    badgesEl.innerHTML = '';
    
    [...new Set(badges)].forEach(b => {
      const span = document.createElement('span');
      span.className = 'badge';
      span.textContent = b;
      badgesEl.appendChild(span);
    });
    
    document.getElementById('quizResult').style.display = 'block';
    document.getElementById('quizResult').scrollIntoView({ behavior: 'smooth', block: 'center' });
  });

  // ===== MODAL: abrir detalhes com imagens/vídeo =====
  (function() {
    const overlay = document.getElementById('servicoModal');
    const closeBtn = document.getElementById('modalClose');
    const titleEl = document.getElementById('modalTitle');
    const imgEl = document.getElementById('modalMainImg');
    const vidEl = document.getElementById('modalMainVideo');
    const thumbsEl = document.getElementById('modalThumbs');
    const descEl = document.getElementById('modalDesc');
    const incluiEl = document.getElementById('modalInclui');
    const duracaoEl = document.getElementById('modalDuracao');
    const ctasEl = document.getElementById('modalCTAs');
    
    // Funções para mostrar imagem ou vídeo
    function showImage(src, alt) {
      vidEl.pause();
      vidEl.removeAttribute('src');
      vidEl.style.display = 'none';
      
      imgEl.src = src;
      imgEl.alt = alt || '';
      imgEl.style.display = 'block';
    }
    
    function showVideo(src, poster) {
      imgEl.style.display = 'none';
      imgEl.removeAttribute('src');
      
      vidEl.style.display = 'block';
      if (poster) {
        vidEl.setAttribute('poster', poster);
      } else {
        vidEl.removeAttribute('poster');
      }
      
      vidEl.src = src;
      // Tentar reproduzir, mas capturar erros de autoplay
      vidEl.play().catch(() => {
        // Autoplay pode falhar, mas isso é normal
      });
    }
    
    // Abrir e fechar modal
    function openModal() {
      overlay.classList.add('aberto');
      overlay.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
      closeBtn.focus();
      
      // Adicionar listener para fechar com ESC
      document.addEventListener('keydown', handleEscKey);
    }

    // DENTRO do IIFE do modal, perto de onde crias o botão "Detalhes" de cada card:
function openFromCard(card){
  const titleEl = document.getElementById('modalTitle');
  const descEl  = document.getElementById('modalDesc');
  const incluiEl = document.getElementById('modalInclui');
  const duracaoEl = document.getElementById('modalDuracao');
  const thumbsEl = document.getElementById('modalThumbs');
  const imgEl = document.getElementById('modalMainImg');
  const vidEl = document.getElementById('modalMainVideo');

  // (é o mesmo código que usas no clique do teu botão "Detalhes")
  const titulo = card.querySelector('h3')?.textContent?.trim() || 'Serviço';
  const descCurta = card.querySelector('.servico-info > p')?.textContent?.trim() || '';
  const bloco = card.querySelector('.servico-detalhes');
  const imgHero = card.querySelector('.servico-imagem img')?.getAttribute('src') || '';
  let descLonga = descCurta;
  if (bloco) {
    const pDet = bloco.querySelector('.detalhe-texto p');
    if (pDet) descLonga = pDet.textContent.trim();
  }
  const ul = card.querySelector('.beneficios-list');
  const inclui = ul ? [...ul.querySelectorAll('li')].map(li=>li.textContent.trim()).slice(0,4).join(', ') + '.' : 'Plano e acompanhamento.';
  const cat = card.getAttribute('data-categoria');
  const duracaoSug = (cat === 'personal' || cat === 'fisioterapia') ? 'Sessões de 50–60 min' : (cat === 'aulas' ? 'Aulas de 45 min' : 'Sessões ajustadas ao objetivo');

  const itens = [];
  if (bloco && bloco.querySelector('.galeria-servico')) {
    bloco.querySelectorAll('.galeria-servico img').forEach(img => {
      const v = img.dataset.video;
      if (v) itens.push({type:'video', src:v, thumb:img.src, poster:img.src, alt:img.alt||titulo});
      else   itens.push({type:'image', src:img.src, alt:img.alt||titulo});
    });
  }
  if (itens.length === 0 && imgHero) itens.push({type:'image', src:imgHero, alt:titulo});

  // preencher modal
  titleEl.textContent = `${titulo} — Detalhes`;
  descEl.textContent = descLonga;
  incluiEl.textContent = inclui;
  duracaoEl.textContent = duracaoSug;

  function showImage(src, alt){ vidEl.pause(); vidEl.removeAttribute('src'); vidEl.style.display='none'; imgEl.src=src; imgEl.alt=alt||''; imgEl.style.display='block'; }
  function showVideo(src, poster){ imgEl.style.display='none'; imgEl.removeAttribute('src'); vidEl.style.display='block'; poster ? vidEl.setAttribute('poster',poster) : vidEl.removeAttribute('poster'); vidEl.src=src; vidEl.play().catch(()=>{}); }

  const thumbs = document.getElementById('modalThumbs');
  thumbs.innerHTML = '';
  itens.forEach((it, i)=>{
    const t = document.createElement('img');
    t.src = it.thumb || it.src; t.alt = it.alt || titulo; t.className = 'modal-thumb' + (it.type==='video'?' video':'');
    t.addEventListener('click', ()=>{
      document.querySelectorAll('.modal-thumb').forEach(x=>x.classList.remove('ativa'));
      t.classList.add('ativa');
      it.type==='video' ? showVideo(it.src, it.poster) : showImage(it.src, it.alt);
    });
    thumbs.appendChild(t);
  });
  if (itens[0]) { // seleciona a 1ª
    const first = thumbs.firstElementChild; if (first) first.click();
  }

  // abre o modal
  document.getElementById('servicoModal').classList.add('aberto');
  document.getElementById('servicoModal').setAttribute('aria-hidden','false');
  document.body.style.overflow='hidden';
  document.getElementById('modalClose').focus();
}

// torna acessível fora do IIFE:
window.openServicoModalFromCard = openFromCard;

    
    function closeModal() {
      overlay.classList.remove('aberto');
      overlay.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
      vidEl.pause();
      vidEl.removeAttribute('src');
      
      // Remover listener do ESC
      document.removeEventListener('keydown', handleEscKey);
    }
    
    function handleEscKey(e) {
      if (e.key === 'Escape' && overlay.classList.contains('aberto')) {
        closeModal();
      }
    }
    
    closeBtn.addEventListener('click', closeModal);
    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) {
        closeModal();
      }
    });
    
    // Função atualizada para retornar conteúdo personalizado por categoria
function buildIncluiFromCard(card) {
    const manual = (card.dataset.inclui || '').trim();
    if (manual) return manual;
    
    const categoria = card.getAttribute('data-categoria');
    
    // Conteúdo específico para cada categoria
    switch(categoria) {
        case 'personal':
            return 'Avaliação Fisica. Plano de treino (app Vila Plus). Avaliação com nutricionista. Acompanhamento de um PT durante o treino.';
        
        case 'aulas':
            return 'Acesso a todas as aulas de grupo. Variedade de modalidades. Ambiente motivador. Instrutores certificados.';
            
        case 'musculacao':
            return 'Acesso à zona de musculação. Equipamentos modernos. Orientação inicial. Planos de treino adaptados.';
            
        case 'fisioterapia':
            return 'Avaliação funcional. Plano terapêutico individualizado. Técnicas manuais e exercício terapêutico. Acompanhamento especializado.';
            
        case 'nutrição':
            return 'Consulta nutricional completa. Plano alimentar personalizado. Acompanhamento e ajustes. Educação alimentar.';
            
        case 'online':
            return 'Planos de treino via app. Vídeos de execução. Acompanhamento remoto. Chat com a equipa.';
            
        case 'domicilio':
            return 'PT em casa. Treino adaptado ao espaço. Ajustes semanais. Acompanhamento contínuo.';
            
        default:
            return 'Serviço personalizado. Acompanhamento profissional.';
    }
}

    // Prepara os botões de detalhes em cada card
function prepararBotoesDetalhes() {
  document.querySelectorAll('.servico-card').forEach(card => {
    const meta = card.querySelector('.servico-meta');
    if (!meta) return;

    // Remove quaisquer botões existentes na meta
    meta.querySelectorAll('a.btn').forEach(a => a.remove());

    // Evita duplicação do botão
    if (meta.querySelector('.btn-detalhes')) return;

    const btn = document.createElement('button');
    btn.className = 'btn btn-filled btn-detalhes';
    btn.type = 'button';
    btn.textContent = 'Detalhes';
    meta.appendChild(btn);

    btn.addEventListener('click', () => {
      const titulo   = card.querySelector('h3')?.textContent?.trim() || 'Serviço';
      const descCurta = card.querySelector('.servico-info > p')?.textContent?.trim() || '';
      const bloco    = card.querySelector('.servico-detalhes');
      const imgHero  = card.querySelector('.servico-imagem img')?.getAttribute('src') || '';

      let descLonga = descCurta;
      if (bloco) {
        const pDet = bloco.querySelector('.detalhe-texto p');
        if (pDet) descLonga = pDet.textContent.trim();
      }

      // >>>>>>> AQUI: usar data-inclui do card <<<<<<<
      const inclui = buildIncluiFromCard(card);

      const cat = card.getAttribute('data-categoria');
      const duracaoSug = (cat === 'personal' || cat === 'fisioterapia')
        ? 'Sessões 1 hora'
        : (cat === 'aulas' ? 'Aulas de 45 min' : 'Sessões ajustadas ao objetivo');

      // Galeria (imgs + vídeos via data-video)
      const itens = [];
if (bloco && bloco.querySelector('.galeria-servico')) {
  // apanhar imagens E vídeos
  bloco.querySelectorAll('.galeria-servico img, .galeria-servico video').forEach(el => {
    if (el.tagName === 'VIDEO') {
      // <video> com <source> interno
      const source = el.querySelector('source');
      const src = (source && source.src) || el.src || el.getAttribute('src');
      const poster = el.poster || el.getAttribute('poster') || '';
      itens.push({
        type: 'video',
        src,
        thumb: poster || src,   // usa poster se existir
        poster,
        alt: el.getAttribute('aria-label') || el.getAttribute('alt') || titulo
      });
    } else {
      // <img> (antigo esquema com data-video)
      const v = el.dataset.video;
      if (v) {
        itens.push({
          type: 'video',
          src: v,
          thumb: el.src,
          poster: el.src,
          alt: el.alt || titulo
        });
      } else {
        itens.push({
          type: 'image',
          src: el.src,
          alt: el.alt || titulo
        });
      }
    }
  });
}
if (itens.length === 0 && imgHero) {
  itens.push({ type: 'image', src: imgHero, alt: titulo });
}

      // CTAs (apenas CTA2)
      ctasEl.innerHTML = '';
      const isAulas = (cat === 'aulas');
      const cta2 = document.createElement('a');
      cta2.href = isAulas ? 'servicosv2.html#horarios-aulas' : 'contactsv2.html';
      cta2.className = 'btn btn-filled';
      cta2.textContent = isAulas ? 'Ver horários das aulas' : 'Saber Mais';
      ctasEl.append(cta2);

      // Preencher modal
      titleEl.textContent  = `${titulo} — Detalhes`;
      descEl.textContent   = descLonga;
      incluiEl.textContent = inclui;
      duracaoEl.textContent = duracaoSug;

      // Thumbs + media principal
      thumbsEl.innerHTML = '';

      function selectThumb(idx) {
        document.querySelectorAll('.modal-thumb').forEach(x => x.classList.remove('ativa'));
        const t = thumbsEl.children[idx];
        if (t) t.classList.add('ativa');

        const item = itens[idx];
        if (item.type === 'video') {
          showVideo(item.src, item.poster);
        } else {
          showImage(item.src, item.alt);
        }
      }

      itens.forEach((it, i) => {
        const t = document.createElement('img');
        t.src = it.thumb || it.src;
        t.alt = it.alt || titulo;
        t.className = 'modal-thumb' + (it.type === 'video' ? ' video' : '');
        t.addEventListener('click', () => selectThumb(i));
        thumbsEl.appendChild(t);
      });

      if (itens.length > 0) selectThumb(0);
      openModal();
    });
  });
}

    
    window.addEventListener('DOMContentLoaded', prepararBotoesDetalhes);
    document.addEventListener('click', (e) => {
      if (e.target.closest('.categoria-btn')) {
        setTimeout(prepararBotoesDetalhes, 0);
      }
    });
  })();
</script>

<script>
// === Mapeamento de respostas -> sugestões ===
// Nota: no HTML actual, Step 2 tem valores:
//  'grupo'  => label "Sozinho"
//  'individual' => "Com parceiro"
//  'livre'  => "Em grupo"
// E no Step 3: 'baixa' (Pernas) -> inferiores, 'media' (Superior) -> superiores,
//              'alta' (Abdominais) -> tratamos como 'geral', 'geral' -> geral.

function normalizarFormato(v) {
  if (v === 'grupo') return 'sozinho';
  if (v === 'individual') return 'parceiro';
  if (v === 'livre') return 'grupo';
  return 'sozinho';
}

function normalizarFoco(v) {
  if (v === 'baixa') return 'inferiores';
  if (v === 'media') return 'superiores';
  if (v === 'alta') return 'geral'; // "abdominais" não está nas regras; aproximamos a 'geral'
  if (v === 'geral') return 'geral';
  return 'geral';
}

// Tabela de recomendações baseada nas regras que enviaste
function getRecomendacoes(objetivo, formatoRaw, focoRaw) {
  const formato = normalizarFormato(formatoRaw);    // 'sozinho' | 'parceiro' | 'grupo'
  const foco = normalizarFoco(focoRaw);             // 'inferiores' | 'superiores' | 'geral'

  // Helpers
  const J = (arr) => arr.join(' – ');

  // ================== PERDER PESO ==================
  if (objetivo === 'perda_gordura') {
    if (formato === 'sozinho') {
      return J(['PT Individual', 'Musculação', 'Nutrição']);
    }
    if (formato === 'parceiro') {
      if (foco === 'inferiores') return J(['PT Duo', 'Musculação', 'GAP', 'STEP', 'AERÓBICA', 'HIIT', 'NUTRIÇÃO']);
      if (foco === 'superiores') return J(['PT Duo', 'Musculação', 'Funcional', 'Circuito', 'Kickboxing', 'Nutrição']);
      return J(['PT Duo', 'Musculação', 'HIIT', 'Kickboxing', 'Funcional', 'Circuito', 'Nutrição']); // geral
    }
    if (formato === 'grupo') {
      if (foco === 'inferiores') return J(['GAP', 'STEP', 'AERÓBICA', 'HIIT', 'Kickboxing', 'NUTRIÇÃO']);
      if (foco === 'superiores') return J(['Funcional', 'Circuito', 'Kickboxing', 'HIIT', 'Nutrição']);
      return J(['HIIT', 'Kickboxing', 'Funcional', 'Circuito', 'Nutrição']); // geral
    }
  }

  // ============ GANHO DE MASSA MUSCULAR ============
  if (objetivo === 'ganho_massa') {
    if (formato === 'sozinho') {
      return J(['PT Individual', 'Musculação', 'Nutrição']);
    }
    if (formato === 'parceiro') {
      if (foco === 'inferiores') return J(['PT Duo', 'Musculação', 'GAP', 'STEP', 'NUTRIÇÃO']);
      if (foco === 'superiores') return J(['PT Duo', 'Musculação', 'Funcional', 'Circuito', 'Nutrição']);
      return J(['PT Duo', 'Musculação', 'Funcional', 'Circuito', 'Nutrição']); // geral
    }
    if (formato === 'grupo') {
      if (foco === 'inferiores') return J(['GAP', 'STEP', 'NUTRIÇÃO']);
      if (foco === 'superiores') return J(['Funcional', 'Circuito', 'Nutrição']);
      return J(['Funcional', 'Circuito', 'Nutrição']); // geral
    }
  }

  // ========= SAÚDE E BEM-ESTAR =========
  if (objetivo === 'saude_bemestar') {
    if (formato === 'sozinho') {
      return J(['PT Individual', 'Pt pilates', 'Musculação', 'Nutrição', 'Fisioterapia']);
    }
    if (formato === 'parceiro') {
      if (foco === 'inferiores') return J(['PT Duo', 'Musculação', 'pilates', 'GAP', 'STEP', 'NUTRIÇÃO', 'Fisioterapia']);
      if (foco === 'superiores') return J(['PT Duo', 'Musculação', 'pilates', 'Funcional', 'Circuito', 'Nutrição']);
      return J(['PT Duo', 'Musculação', 'pilates', 'Funcional', 'Circuito', 'Nutrição', 'Fisioterapia']); // geral
    }
    if (formato === 'grupo') {
      if (foco === 'inferiores') return J(['Pilates', 'GAP', 'STEP', 'zumba', 'NUTRIÇÃO', 'Fisioterapia']);
      if (foco === 'superiores') return J(['Pilates', 'Funcional', 'Circuito', 'Nutrição', 'fisioterapia']);
      return J(['Pilates', 'Funcional', 'Circuito', 'zumba', 'Nutrição', 'fisioterapia']); // geral
    }
  }

  // =============== REABILITAÇÃO ===============
  if (objetivo === 'reabilitacao') {
    if (formato === 'sozinho') {
      return J(['PT Individual', 'Musculação', 'Nutrição', 'Fisioterapia']);
    }
    if (formato === 'parceiro') {
      // "Inferiores/Superiores/geral" -> uma só regra
      return J(['PT Duo', 'Musculação', 'pillates', 'NUTRIÇÃO', 'Fisioterapia']);
    }
    if (formato === 'grupo') {
      return J(['Pilates', 'funcional', 'nutrição', 'Fisioterapia']);
    }
  }

  // Fallback (caso algo não bata certo)
  return J(['Musculação', 'Funcional', 'Nutrição']);
}

// === Handler do botão "Ver Recomendações" (substitui o teu atual) ===
btnFinish.addEventListener('click', () => {
  const r = quizState.respostas;

  // Construir texto e badges a partir da tabela acima
  const recomendacaoTexto = getRecomendacoes(r.objetivo, r.formato, r.intensidade);
  document.getElementById('quizText').textContent = recomendacaoTexto;

  // Mostrar badges únicos (separando por " – ")
  const badgesEl = document.getElementById('quizBadges');
  badgesEl.innerHTML = '';
  const termos = [...new Set(recomendacaoTexto.split('–').map(t => t.trim()))];
  termos.forEach(t => {
    const span = document.createElement('span');
    span.className = 'badge';
    span.textContent = t;
    badgesEl.appendChild(span);
  });

  // Abrir bloco de resultado
  const result = document.getElementById('quizResult');
  result.style.display = 'block';
  result.scrollIntoView({ behavior: 'smooth', block: 'center' });
});
</script>

<script>
(function(){
  const track   = document.getElementById('carousel-track');
  const dots    = document.getElementById('slider-dots');
  const prevBtn = document.getElementById('slider-prev');
  const nextBtn = document.getElementById('slider-next');
  const grid    = document.getElementById('servicos-grid');

  let currentIndex = 0, step = 0;

  function visibleCards(){
    return [...grid.querySelectorAll('.servico-card')].filter(c => getComputedStyle(c).display !== 'none');
  }

  function slideElFromCard(card, idx, total){
    const img = card.querySelector('.servico-imagem img')?.src || '';
    const titulo = card.querySelector('h3')?.textContent?.trim() || 'Serviço';
    const desc = card.querySelector('.servico-info > p')?.textContent?.trim() || '';
    const cat = card.getAttribute('data-categoria');
    const pill = (cat==='aulas') ? 'Aulas de Grupo' : (titulo.includes('Treino') ? 'Treino Personalizado' : (cat||'Serviço'));

    const el = document.createElement('article');
    el.className='slide'; el.tabIndex=-1;
    el.setAttribute('aria-roledescription','slide');
    el.setAttribute('aria-label', `${idx+1} de ${total}`);
    el.innerHTML = `
      <div class="slide-media"><img src="${img}" alt="${titulo}"></div>
      <div class="slide-body">
        <span class="pill">${pill}</span>
        <h3>${titulo}</h3>
        <p class="muted line-clamp-3">${desc}</p>
      </div>
      <div class="actions-bar">
        <button class="btn" data-act="contacto">Contactar</button>
        <button class="btn btn-filled" data-act="detalhes">Detalhes</button>
      </div>`;
    el.querySelector('[data-act="contacto"]').addEventListener('click',()=>{ location.href='contactsv2.html'; });
    el.querySelector('[data-act="detalhes"]').addEventListener('click',()=>{ 
      if (window.openServicoModalFromCard) window.openServicoModalFromCard(card);
    });
    return el;
  }

  function calcStep(){
    const first = track.querySelector('.slide');
    const gap = parseInt(getComputedStyle(track).gap) || 0;
    step = first ? (first.getBoundingClientRect().width + gap) : (window.innerWidth);
  }

  function render(){
    const cards = visibleCards();
    track.innerHTML = ''; dots.innerHTML = '';
    cards.forEach((card, i)=> track.appendChild(slideElFromCard(card, i, cards.length)));
    cards.forEach((_, i)=>{
      const b = document.createElement('button');
      b.className='slider-dot'; b.type='button';
      b.setAttribute('role','tab'); b.setAttribute('aria-label',`Ir para o slide ${i+1}`);
      b.addEventListener('click',()=>scrollToIndex(i));
      dots.appendChild(b);
    });
    currentIndex = 0; calcStep(); updateUI();
  }

  function scrollToIndex(i){
    track.scrollTo({ left: i * step, behavior: 'smooth' });
  }

  function updateIndexFromScroll(){
    currentIndex = Math.round(track.scrollLeft / step);
    updateUI();
  }

  function updateUI(){
    [...dots.children].forEach((d, i)=> d.toggleAttribute('aria-current', i===currentIndex));
    prevBtn.disabled = (currentIndex<=0);
    nextBtn.disabled = (currentIndex >= dots.children.length-1);
  }

  prevBtn.addEventListener('click', ()=>scrollToIndex(Math.max(0,currentIndex-1)));
  nextBtn.addEventListener('click', ()=>scrollToIndex(Math.min(dots.children.length-1,currentIndex+1)));
  track.addEventListener('scroll', ()=>requestAnimationFrame(updateIndexFromScroll));
  window.addEventListener('resize', ()=>{ calcStep(); updateIndexFromScroll(); });

  // Drag com rato (toque no mobile já funciona nativo)
  let down=false, startX=0, startL=0;
  track.addEventListener('pointerdown', e=>{ down=true; startX=e.clientX; startL=track.scrollLeft; track.setPointerCapture(e.pointerId); });
  track.addEventListener('pointermove', e=>{ if(!down) return; track.scrollLeft = startL - (e.clientX - startX); });
  track.addEventListener('pointerup', e=>{ if(!down) return; down=false; track.releasePointerCapture(e.pointerId);
    // snap ao mais próximo
    const nearest = Math.round(track.scrollLeft / step);
    scrollToIndex(nearest);
  });
  track.addEventListener('pointercancel', ()=>{ down=false; });

  // Re-render após mudar de categoria
  document.querySelectorAll('.categoria-btn').forEach(btn=>{
    btn.addEventListener('click', ()=> setTimeout(render, 0));
  });

  // Inicializa depois do teu aplicarFiltro('todos')
  window.addEventListener('DOMContentLoaded', ()=> setTimeout(render, 0));
})();
</script>

<script>
  // depois de definires/acionares o teu checkScroll()
  window.addEventListener('load', () => {
    // força o footer-bottom a aparecer no load
    document.querySelectorAll('.footer-bottom.animate').forEach(el => el.classList.add('show'));
  });
</script>

<script>
   (function(){
  const hint = document.getElementById('scrollHint');
  if(!hint) return;

  function toggleHint(){
    const scrollY = window.scrollY;
    const winH = window.innerHeight;
    const docH = document.body.scrollHeight;

    // Se já chegou ao fim, esconder
    if(scrollY + winH >= docH - 50) {
      hint.classList.add('hide');
    } else {
      hint.classList.remove('hide');
    }
  }

  window.addEventListener('scroll', toggleHint);
  window.addEventListener('resize', toggleHint);
  document.addEventListener('DOMContentLoaded', toggleHint);
})();

</script>

<script>

  
document.addEventListener('DOMContentLoaded', function () {
  const params = new URLSearchParams(location.search);
  const f = (params.get('f') || '').toLowerCase();
  if (!f) return;

  const container = document.querySelector('.categorias-container');
  const grid      = document.getElementById('servicos-grid');

  function applyFilter() {
    const btn = container?.querySelector(`.categoria-btn[data-categoria="${CSS.escape(f)}"]`);
    if (!btn) return;

    // 1) marcar estado visual/ARIA
    container.querySelectorAll('.categoria-btn').forEach(b => {
      const isActive = (b === btn);
      b.classList.toggle('active', isActive);
      b.setAttribute('aria-selected', isActive ? 'true' : 'false');
    });

    // 2) dispara o teu handler existente (se houver)
    btn.click?.();

// 3) scroll suave até à zona certa (compensa header fixo)
const headerH = document.getElementById('header')?.offsetHeight || 60;
const isDesktop = window.matchMedia('(min-width:1024px)').matches;
const target = isDesktop ? document.getElementById('servicos-grid')
                         : document.getElementById('servicos-lista');

if (target) {
  const top = target.getBoundingClientRect().top + window.pageYOffset - (headerH + 8);
  window.scrollTo({ top, behavior: 'smooth' });
}

  }

  // tenta já (handlers podem já estar ligados) e volta a tentar no próximo “tick”
  applyFilter();
  setTimeout(applyFilter, 0);
});
</script>

</body>
</html>